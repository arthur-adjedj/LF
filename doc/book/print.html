<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>LFLean</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme && theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar && sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="Basics.lean.html"><strong aria-hidden="true">1.</strong> Basics</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">LFLean</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>Basics.lean</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Lean4 v4.0.0-nightly-2023-04-07. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">
<div class="section" id="basics-functional-programming-in-lean">
<h1 id="basics-functional-programming-in-lean"><a class="header" href="#basics-functional-programming-in-lean">Basics: Functional Programming in Lean</a></h1>
</div>
<div class="section" id="introduction">
<h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<blockquote>
<p>The functional style of programming is founded on simple, everyday
mathematical intuition: If a procedure or method has no side
effects, then (ignoring efficiency) all we need to understand
about it is how it maps inputs to outputs -- that is, we can think
of it as just a concrete method for computing a mathematical
function.  This is one sense of the word &quot;functional&quot; in
&quot;functional programming.&quot;  The direct connection between programs
and simple mathematical objects supports both formal correctness
proofs and sound informal reasoning about program behavior.</p>
<p>The other sense in which functional programming is &quot;functional&quot; is
that it emphasizes the use of functions as <code class="highlight coq"><span class="kp">first</span><span class="o">-</span><span class="n">class</span></code> values --
i.e., values that can be passed as arguments to other functions,
returned as results, included in data structures, etc.  The
recognition that functions can be treated as data gives rise to a
host of useful and powerful programming idioms.</p>
<p>Other common features of functional languages include <code class="highlight coq"><span class="n">algebraic</span>
<span class="n">data</span> <span class="n">types</span></code> and <code class="highlight coq"><span class="nb">pattern</span> <span class="n">matching</span></code>, which make it easy to
construct and manipulate rich data structures, and <code class="highlight coq"><span class="n">polymorphic</span>
<span class="n">type</span> <span class="n">systems</span></code> supporting abstraction and code reuse.  Lean offers
all of these features.</p>
<p>The first half of this chapter introduces the most essential
elements of Lean's functional programming language.
The second half introduces some basic <strong>tactics</strong> that
can be used to prove properties of programs.</p>
</blockquote>
</div>
<div class="section" id="data-and-functions">
<h1 id="data-and-functions"><a class="header" href="#data-and-functions">Data and Functions</a></h1>
<div class="section" id="enumerated-types">
<h2 id="enumerated-types"><a class="header" href="#enumerated-types">Enumerated Types</a></h2>
<blockquote>
<p>While Lean provides a lot of types and features as part of its core.
(including the usual palette of atomic data types like Booleans,
integers, strings, etc.), Lean also offers a powerful mechanism
for defining new data types from scratch.</p>
<p>Naturally, the Lean distribution comes with an extensive standard
library providing defs of Booleans, numbers, and many
common data structures like lists and hash tables.  But there is
nothing magic or primitive about these library defs.  To
illustrate this, in this course we will explicitly recapitulate
(almost) all the defs we need, rather than getting them
from the standard library.</p>
</blockquote>
</div>
<div class="section" id="days-of-the-week">
<h2 id="days-of-the-week"><a class="header" href="#days-of-the-week">Days of the Week</a></h2>
<blockquote>
<p>To see how this definition mechanism works, let's start with
a very simple example. The following declaration tells Lean that
we are defining a set of data values -- a <strong>type</strong>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Day : <span class="kt">Type</span> :=
  <span class="bp">|</span> monday
  <span class="bp">|</span> tuesday
  <span class="bp">|</span> wednesday
  <span class="bp">|</span> thursday
  <span class="bp">|</span> friday
  <span class="bp">|</span> saturday
  <span class="bp">|</span> sunday
deriving Repr
<span class="kn">open</span> Day</span></pre><p>The new type is called <code class="highlight coq"><span class="n">Day</span></code>, and its members are <code class="highlight coq"><span class="n">monday</span></code>,
<code class="highlight coq"><span class="n">tuesday</span></code>, etc.</p>
<p>Pay no mind to the <code class="highlight coq"><span class="n">deriving</span></code> and <code class="highlight coq"><span class="n">open</span></code> commands for now.
Having defined <code class="highlight coq"><span class="n">Day</span></code>, we can write functions that operate on
Days.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> next_weekday (d:Day) : Day :=
  <span class="k">match</span> d <span class="k">with</span>
  <span class="bp">|</span> monday    <span class="bp">=&gt;</span> tuesday
  <span class="bp">|</span> tuesday   <span class="bp">=&gt;</span> wednesday
  <span class="bp">|</span> wednesday <span class="bp">=&gt;</span> thursday
  <span class="bp">|</span> thursday  <span class="bp">=&gt;</span> friday
  <span class="bp">|</span> friday    <span class="bp">=&gt;</span> monday
  <span class="bp">|</span> saturday  <span class="bp">=&gt;</span> monday
  <span class="bp">|</span> sunday    <span class="bp">=&gt;</span> monday</span></pre><p>One point to note is that the argument and return types of
this function are explicitly declared.  Like most functional
programming languages, Lean can often figure out these types for
itself when they are not given explicitly -- i.e., it can do <strong>type
inference</strong> -- but we'll generally include them to make reading
easier.</p>
<p>Having defined a function, we should next check that it
works on some examples.  There are actually three different ways
to do the examples in Lean.  First, we can use the command
<code class="highlight coq"><span class="o">#</span><span class="kp">eval</span></code> to evaluate a compound expression involving
<code class="highlight coq"><span class="n">next_weekday</span></code>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk0"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Day.monday
</blockquote></div></div></small></span><span class="alectryon-wsp"> next_weekday friday <span class="c1">--monday : Day</span>
<p></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk1"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Day.tuesday</p>
</blockquote></div></div></small></span><span class="alectryon-wsp"> next_weekday (next_weekday saturday) 
<span class="c1">--tuesday : Day</span></span></pre><p>(We show Lean's responses in comments, but, if you have a
computer handy, this would be an excellent moment to fire up the
Lean interpreter under your favorite IDE -- either VSCode or Emacs
-- and try it for yourself.  Load this file, <code class="highlight coq"><span class="n">Basics</span><span class="o">.</span><span class="n">lean</span></code>,
from the book's Lean sources, find the above example, submit it to
Lean, and observe the result.)</p>
<p>Second, we can record what we <strong>expect</strong> the result to be in the
form of a Lean example:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> test_next_weekday:
  (next_weekday (next_weekday saturday)) <span class="bp">=</span> tuesday := rfl</span></pre><p>This declaration does three things: it makes an
assertion (that the second weekday after <code class="highlight coq"><span class="n">saturday</span></code> is <code class="highlight coq"><span class="n">tuesday</span></code>),
and it gives the assertion a name that can be used to refer to it
later.  Lastly, it verifies this assertion to be true thanks to <code class="highlight coq"><span class="o">:=</span> <span class="n">rfl</span></code></p>
<p>The details are not important just now, but essentially this
can be read as &quot;The assertion we've just made can be proved by
observing that both sides of the equality evaluate to the same
thing.&quot;</p>
<p>Third, we can ask Lean to <strong>compile</strong> our <a href="Basics.lean.html#system-message-1"><span class="problematic" id="problematic-1">`</span></a>def`initions into
executable code. This facility is very interesting, since
it gives us a
path from proved-correct algorithms written in Lean to
efficient machine code.  (Of course, we are trusting the
correctness of the Lean compiler, but this is still a big step forward
from the way most software is developed today.) Indeed, this is
one of the main uses for which Lean 4 was developed. We'll come back
to this topic in later chapters.</p>
<div class="system-message" id="system-message-1">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 142); <em><a href="Basics.lean.html#problematic-1">backlink</a></em></p>
Inline interpreted text or phrase reference start-string without end-string.</div>
</blockquote>
<hr class="docutils" />
<p>** TODO AUTO GRADE ???</p>
<p>** Homework Submission Guidelines</p>
<hr class="docutils" />
<p>** Booleans</p>
<dl class="docutils">
<dt>Following the pattern of the Days of the week above, we can</dt>
<dd><p class="first">define the standard type <code class="highlight coq"><span class="n">Bool</span></code> of Booleans, with members <code class="highlight coq"><span class="n">true</span></code>
and <code class="highlight coq"><span class="n">false</span></code>. Since Bool is already defined in the core language,
this inductive definition is commented out, as it would otherwise
give an error.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c">/-</span><span class="cm">inductive Bool : Type :=</span>
<span class="cm">  | true</span>
<span class="cm">  | false-/</span></span></pre></div></dd>
<dt>Functions over Booleans can be defined in the same way as</dt>
<dd><p class="first">above:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> negb (b: Bool) : Bool :=
  <span class="k">match</span> b <span class="k">with</span>
  <span class="bp">|</span> true <span class="bp">=&gt;</span> false
  <span class="bp">|</span> false <span class="bp">=&gt;</span> true
<p><span class="kd">def</span> andb (b1: Bool) (b2: Bool) : Bool :=
<span class="k">match</span> b1 <span class="k">with</span>
<span class="bp">|</span> true <span class="bp">=&gt;</span> b2
<span class="bp">|</span> false <span class="bp">=&gt;</span> false</p>
<p><span class="kd">def</span> orb (b1: Bool) (b2: Bool) : Bool :=
<span class="k">match</span> b1 <span class="k">with</span>
<span class="bp">|</span> true <span class="bp">=&gt;</span> true
<span class="bp">|</span> false <span class="bp">=&gt;</span> b2</span></pre></div></dd></p>
<dt>(Although we are rolling our own Boolean functions here for the sake</dt>
<dd>of building up everything from scratch, Lean does, of course,
provide a multitude of useful functions and lemmas.</dd>
<dt>The last two of these illustrate Lean's syntax for</dt>
<dd><p class="first">multi-argument function defs.  The corresponding
multi-argument application syntax is illustrated by the following
&quot;unit tests,&quot; which constitute a complete specification -- a truth
table -- for the <code class="highlight coq"><span class="n">orb</span></code> function:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> test_orb1: (orb true  false) <span class="bp">=</span> true  := rfl
<span class="kd">theorem</span> test_orb2: (orb false false) <span class="bp">=</span> false := rfl
<span class="kd">theorem</span> test_orb3: (orb false true)  <span class="bp">=</span> true  := rfl
<span class="kd">theorem</span> test_orb4: (orb true  true)  <span class="bp">=</span> true  := rfl</span></pre></div></dd>
<dt>We can also introduce some familiar infix syntax for the</dt>
<dd><p class="first">Boolean operations we have just defined. The <code class="highlight coq"><span class="n">notation</span></code> command
defines a new symbolic notation for an existing def.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">notation</span> x <span class="s2">&quot;and&quot;</span> y <span class="bp">=&gt;</span> andb x y
<span class="kd">notation</span> x <span class="s2">&quot;||&quot;</span> y <span class="bp">=&gt;</span> orb x y
<p><span class="c1">--Note : wrong associativity, it's parsed as <code>false || (false || (true = true))</code></span>
<span class="c1">-- <code>(true = true)</code> is then coerced to <code>decide (true = true)</code></span>
<span class="kd">theorem</span> test_orb5: false <span class="bp">||</span> false <span class="bp">||</span> true <span class="bp">=</span> true := rfl</span></pre></div></dd></p>
<dt># A note on notation :</dt>
<dd>In <code class="highlight coq"><span class="o">.</span><span class="n">lean</span></code> files, we use apostrophes
to delimit fragments of Lean code within comments; this convention,
also used by the <code class="highlight coq"><span class="n">coqdoc</span></code> documentation tool, keeps them visually
separate from the surrounding text.  In the HTML version of the
files, these pieces of text appear in a <code class="highlight coq"><span class="n">different</span> <span class="n">font</span></code>.</dd>
<dt>These examples are also an opportunity to introduce one more small</dt>
<dd><p class="first">feature of Lean's programming language: conditional expressions...</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> negb&#39; (b: Bool) : Bool :=
  <span class="k">if</span> b <span class="k">then</span> false
  <span class="k">else</span> true
<p><span class="kd">def</span> andb' (b1: Bool) (b2: Bool) : Bool :=
<span class="k">if</span> b1 <span class="k">then</span> b2
<span class="k">else</span> false</p>
<p><span class="kd">def</span> orb' (b1: Bool) (b2: Bool) : Bool :=
<span class="k">if</span> b1 <span class="k">then</span> true
<span class="k">else</span> b2</span></pre></div></dd></p>
<dt>Lean's conditionals are exactly like those found in any other</dt>
<dd>language, with one small generalization.  Since the <code class="highlight coq"><span class="n">Bool</span></code> type is
not built in, Lean actually supports conditional expressions over
<strong>any</strong> inductively defined type with exactly two clauses in its
def.  The guard is considered true if it evaluates to the
&quot;constructor&quot; of the first clause of the <code class="highlight coq"><span class="n">inductive</span></code>
def (which just happens to be called <code class="highlight coq"><span class="n">true</span></code> in this case)
and false if it evaluates to the second.</dd>
</dl>
<p><a href="Basics.lean.html#system-message-2"><span class="problematic" id="problematic-2">**</span></a>** Exercise: 1 star, standard (nandb)</p>
<div class="system-message" id="system-message-2">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 244); <em><a href="Basics.lean.html#problematic-2">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>The command <code class="highlight coq"><span class="n">sorry</span></code> can be used as a placeholder for an
incomplete proof or definition. We use it in exercises to
indicate the parts that we're leaving for you
-- i.e., your job is to replace <a href="Basics.lean.html#system-message-3"><span class="problematic" id="problematic-3">`</span></a>sorry`s with real proofs.</p>
<div class="system-message" id="system-message-3">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 246); <em><a href="Basics.lean.html#problematic-3">backlink</a></em></p>
Inline interpreted text or phrase reference start-string without end-string.</div>
<p>Remove &quot;<code class="highlight coq"><span class="n">sorry</span></code>&quot; and complete the def of the following
function; then make sure that the <code class="highlight coq"><span class="n">theorem</span></code> assertions below can
each be verified by Lean. (I.e., fill in each proof, following the
model of the <code class="highlight coq"><span class="n">orb</span></code> tests above, and make sure Lean accepts it.) The
function should return <code class="highlight coq"><span class="n">true</span></code> if either or both of its inputs are
<code class="highlight coq"><span class="n">false</span></code>.</p>
<p>Hint: if <code class="highlight coq"><span class="nb">simpl</span></code> will not simplify the goal in your proof, it's
probably because you defined <code class="highlight coq"><span class="n">nandb</span></code> without using a <code class="highlight coq"><span class="kr">match</span></code>
expression. Try a different def of <code class="highlight coq"><span class="n">nandb</span></code> and go directly to <code class="highlight coq"><span class="n">rfl</span></code>. We'll
explain this phenomenon later in the chapter.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk2">nandb</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> (b1: Bool) (b2: Bool) : Bool := <span class="gr">sorry</span>
<p><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk3">test_nandb1</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: (nandb true false)  <span class="bp">=</span> true  := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk4">test_nandb2</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: (nandb false false) <span class="bp">=</span> true  := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk5">test_nandb3</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: (nandb false true)  <span class="bp">=</span> true  := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk6">test_nandb4</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: (nandb true true)   <span class="bp">=</span> false := <span class="gr">sorry</span></span></pre></blockquote></p>
<p>[]</p>
<p><a href="Basics.lean.html#system-message-4"><span class="problematic" id="problematic-4">**</span></a>** Exercise: 1 star, standard (andb3)</p>
<div class="system-message" id="system-message-4">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 271); <em><a href="Basics.lean.html#problematic-4">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Do the same for the <code class="highlight coq"><span class="n">andb3</span></code> function below. This function should
return <code class="highlight coq"><span class="n">true</span></code> when all of its inputs are <code class="highlight coq"><span class="n">true</span></code>, and <code class="highlight coq"><span class="n">false</span></code>
otherwise.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk7">andb3</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> (b1: Bool) (b2: Bool) (b3: Bool) : Bool := <span class="gr">sorry</span>
<p><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk8">test_andb31</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: (andb3 true true true)  <span class="bp">=</span> true := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk9">test_andb32</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: (andb3 false true true) <span class="bp">=</span> false := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka">test_andb33</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: (andb3 true false true) <span class="bp">=</span> false := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb">test_andb34</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: (andb3 true true false) <span class="bp">=</span> false := <span class="gr">sorry</span></span></pre></blockquote></p>
<p>[]</p>
<hr class="docutils" />
<p>** Types</p>
<dl class="docutils">
<dt>Every expression in Lean has a type, describing what sort of</dt>
<dd><p class="first">thing it computes. The <code class="highlight coq"><span class="o">#</span><span class="n">check</span></code> command asks Lean to print the type
of an expression.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bool.true : Bool</blockquote></div></div></small></span><span class="alectryon-wsp"> true</span></pre></div></dd>
</dl>
<p>===&gt; true : Bool</p>
<dl class="docutils">
<dt>If the expression after <code class="highlight coq"><span class="o">#</span><span class="n">check</span></code> is followed by a colon and a type,</dt>
<dd><p class="first">Lean will verify that the type of the expression matches the given
type and halt with an error if not.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">true : Bool</blockquote></div></div></small></span><span class="alectryon-wsp"> (true: Bool)
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">negb true : Bool</blockquote></div></div></small></span><span class="alectryon-wsp"> (negb true: Bool)</span></pre></div></dd>
<dt>Functions like <code class="highlight coq"><span class="n">negb</span></code> itself are also data values, just like</dt>
<dd><p class="first"><code class="highlight coq"><span class="n">true</span></code> and <code class="highlight coq"><span class="n">false</span></code>.  Their types are called <strong>function types</strong>, and
they are written with arrows.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">negb : Bool <span class="bp">‚Üí</span> Bool</blockquote></div></div></small></span><span class="alectryon-wsp"> (negb: Bool <span class="bp">-&gt;</span> Bool)</span></pre></div></dd>
<dt>The type of <code class="highlight coq"><span class="n">negb</span></code>, written <code class="highlight coq"><span class="n">Bool</span> <span class="o">-&gt;</span> <span class="n">Bool</span></code> and pronounced</dt>
<dd>&quot;<code class="highlight coq"><span class="n">Bool</span></code> arrow <code class="highlight coq"><span class="n">Bool</span></code>,&quot; can be read, &quot;Given an input of type
<code class="highlight coq"><span class="n">Bool</span></code>, this function produces an output of type <code class="highlight coq"><span class="n">Bool</span></code>.&quot;
Similarly, the type of <code class="highlight coq"><span class="n">andb</span></code>, written <code class="highlight coq"><span class="n">Bool</span> <span class="o">-&gt;</span> <span class="n">Bool</span> <span class="o">-&gt;</span> <span class="n">Bool</span></code>, can
be read, &quot;Given two inputs, each of type <code class="highlight coq"><span class="n">Bool</span></code>, this function
produces an output of type <code class="highlight coq"><span class="n">Bool</span></code>.&quot;</dd>
</dl>
<hr class="docutils" />
<p>** New Types from Old</p>
<dl class="docutils">
<dt>The types we have defined so far are examples of &quot;enumerated</dt>
<dd><p class="first">types&quot;: their defs explicitly enumerate a finite set of
elements, called <strong>constructors</strong>.  Here is a more interesting type
def, where one of the constructors takes an argument:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Rgb : <span class="kt">Type</span> :=
  <span class="bp">|</span> red
  <span class="bp">|</span> green
  <span class="bp">|</span> blue
<span class="kn">open</span> Rgb
<p><span class="kd">inductive</span> Color : <span class="kt">Type</span> :=
<span class="bp">|</span> black
<span class="bp">|</span> white
<span class="bp">|</span> primary (p : Rgb)
<span class="kn">open</span> Color</span></pre></div></dd></p>
</dl>
<p>Let's look at this in a little more detail.</p>
<blockquote>
<p>An <code class="highlight coq"><span class="n">inductive</span></code> def does two things:</p>
<ul class="simple">
<li>It defines a set of new <strong>constructors</strong>. E.g., <code class="highlight coq"><span class="nb">red</span></code>,
<code class="highlight coq"><span class="n">primary</span></code>, <code class="highlight coq"><span class="n">true</span></code>, <code class="highlight coq"><span class="n">false</span></code>, <code class="highlight coq"><span class="n">monday</span></code>, etc. are constructors.</li>
<li>It groups them into a new named type, like <code class="highlight coq"><span class="n">Bool</span></code>, <code class="highlight coq"><span class="n">Rgb</span></code>, or
<code class="highlight coq"><span class="n">Color</span></code>.</li>
</ul>
<p><code class="highlight coq"><span class="n">Constructor</span> <span class="n">expressions</span></code> are formed by applying a constructor
to zero or more other constructors or constructor expressions,
obeying the declared number and types of the constructor arguments.
E.g.,</p>
<blockquote>
<ul class="simple">
<li><code class="highlight coq"><span class="nb">red</span></code></li>
<li><code class="highlight coq"><span class="n">true</span></code></li>
<li><code class="highlight coq"><span class="n">primary</span> <span class="nb">red</span></code></li>
<li>etc.</li>
</ul>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 354)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>But not:</p>
<blockquote>
<ul class="simple">
<li><code class="highlight coq"><span class="nb">red</span> <span class="n">primary</span></code></li>
<li><code class="highlight coq"><span class="n">true</span> <span class="nb">red</span></code></li>
<li><code class="highlight coq"><span class="n">primary</span> <span class="o">(</span><span class="n">primary</span> <span class="nb">red</span><span class="o">)</span></code></li>
<li>etc.</li>
</ul>
</blockquote>
</blockquote>
<dl class="docutils">
<dt>In particular, the defs of <code class="highlight coq"><span class="n">Rgb</span></code> and <code class="highlight coq"><span class="n">Color</span></code> say</dt>
<dd><p class="first">which constructor expressions belong to the sets <code class="highlight coq"><span class="n">Rgb</span></code> and
<code class="highlight coq"><span class="n">Color</span></code>:</p>
<ul class="last simple">
<li><code class="highlight coq"><span class="nb">red</span></code>, <code class="highlight coq"><span class="n">green</span></code>, and <code class="highlight coq"><span class="n">blue</span></code> belong to the set <code class="highlight coq"><span class="n">Rgb</span></code>;</li>
<li><code class="highlight coq"><span class="n">black</span></code> and <code class="highlight coq"><span class="n">white</span></code> belong to the set <code class="highlight coq"><span class="n">Color</span></code>;</li>
<li>if <code class="highlight coq"><span class="n">p</span></code> is a constructor expression belonging to the set <code class="highlight coq"><span class="n">Rgb</span></code>,
then <code class="highlight coq"><span class="n">primary</span> <span class="n">p</span></code> (pronounced &quot;the constructor <code class="highlight coq"><span class="n">primary</span></code> applied
to the argument <code class="highlight coq"><span class="n">p</span></code>&quot;) is a constructor expression belonging to
the set <code class="highlight coq"><span class="n">Color</span></code>; and</li>
<li>constructor expressions formed in these ways are the <strong>only</strong> ones
belonging to the sets <code class="highlight coq"><span class="n">Rgb</span></code> and <code class="highlight coq"><span class="n">Color</span></code>.</li>
</ul>
</dd>
<dt>We can define functions on colors using pattern matching just as</dt>
<dd><p class="first">we did for <code class="highlight coq"><span class="n">day</span></code> and <code class="highlight coq"><span class="n">Bool</span></code>.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> monochrome (c : Color) : Bool :=
  <span class="k">match</span> c <span class="k">with</span>
  <span class="bp">|</span> black <span class="bp">=&gt;</span> true
  <span class="bp">|</span> white <span class="bp">=&gt;</span> true
  <span class="bp">|</span> primary</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk10">p</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: unused <span class="kd">variable</span> <span class="bp">`</span>p<span class="bp">`</span> [linter.unusedVariables]</blockquote></div></div></small></span><span class="alectryon-wsp"> <span class="bp">=&gt;</span> false</span></pre></div></dd>
<dt>Since the <code class="highlight coq"><span class="n">primary</span></code> constructor takes an argument, a pattern</dt>
<dd><p class="first">matching <code class="highlight coq"><span class="n">primary</span></code> should include either a variable (as above --
note that we can choose its name freely) or a constant of
appropriate type (as below).</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> isred (c : Color) : Bool :=
  <span class="k">match</span> c <span class="k">with</span>
  <span class="bp">|</span> black <span class="bp">=&gt;</span> false
  <span class="bp">|</span> white <span class="bp">=&gt;</span> false
  <span class="bp">|</span> primary red <span class="bp">=&gt;</span> true
  <span class="bp">|</span> primary _ <span class="bp">=&gt;</span> false</span></pre></div></dd>
<dt>The pattern &quot;<code class="highlight coq"><span class="n">primary</span> <span class="n">_</span></code>&quot; here is shorthand for &quot;the constructor</dt>
<dd><code class="highlight coq"><span class="n">primary</span></code> applied to any <code class="highlight coq"><span class="n">Rgb</span></code> constructor except <code class="highlight coq"><span class="nb">red</span></code>.&quot;  (The
wildcard pattern <code class="highlight coq"><span class="n">_</span></code> has the same effect as the dummy pattern
variable <code class="highlight coq"><span class="n">p</span></code> in the def of <code class="highlight coq"><span class="n">monochrome</span></code>.)</dd>
</dl>
<hr class="docutils" />
<p>** Modules</p>
<dl class="docutils">
<dt>Lean provides a <code class="highlight coq"><span class="n">namespace</span> <span class="n">system</span></code> to aid in organizing large</dt>
<dd><p class="first">developments.  We won't need most of its features,
but one is useful: If we enclose a collection of declarations
between <code class="highlight coq"><span class="n">namespace</span> <span class="n">X</span></code> and <code class="highlight coq"><span class="kr">end</span> <span class="n">X</span></code> markers, then, in the remainder of
the file after the <code class="highlight coq"><span class="kr">end</span></code>, these defs are referred to by
names like <code class="highlight coq"><span class="n">X</span><span class="o">.</span><span class="n">foo</span></code> instead of just <code class="highlight coq"><span class="n">foo</span></code>.  We will use this
feature to limit the scope of defs, so that we are free to
reuse names.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">namespace</span> Playground
  <span class="kd">def</span> myblue : Rgb := blue
<span class="kd">end</span> Playground
<p><span class="kd">def</span> myblue : Bool := true</p>
<p></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk11"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Playground.myblue : Rgb</blockquote></div></div></small></span><span class="alectryon-wsp"> (Playground.myblue : Rgb)
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk12"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">myblue : Bool</blockquote></div></div></small></span><span class="alectryon-wsp"> (myblue : Bool)</span></pre></div></dd></p>
<dt>As you might have seen until now, every declaration of a new type using the <code class="highlight coq"><span class="n">inductive</span></code></dt>
<dd><p class="first">command was followed up by an <code class="highlight coq"><span class="n">open</span></code> command making reference to the type above it.
<code class="highlight coq"><span class="n">open</span> <span class="n">Foo</span></code> allows you to be able to write <code class="highlight coq"><span class="n">foo</span></code> instead of <code class="highlight coq"><span class="n">X</span><span class="o">.</span><span class="n">foo</span></code> once outside of
the scope of the namespace. When defining constructors for an inductive type, Lean puts
its constructors inside the type's namespace, which means that for i.e <code class="highlight coq"><span class="n">Rgb</span></code>, you'd
need to write <code class="highlight coq"><span class="n">Rgb</span><span class="o">.</span><span class="nb">red</span></code> instead of <code class="highlight coq"><span class="nb">red</span></code> everywhere, including when doing pattern-matches.
opening the types' namespaces allows us to avoid this.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">namespace</span> Playground2
  <span class="kd">def</span> myred : Rgb := red
<span class="kd">end</span> Playground2
<p><span class="kn">open</span> Playground2</p>
<p></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk13"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">myred : Rgb</blockquote></div></div></small></span><span class="alectryon-wsp"> (myred : Rgb)</span></pre></div></dd></p>
</dl>
<hr class="docutils" />
<p>** Tuples</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">namespace</span> TuplePlayground</span></pre><dl class="docutils">
<dt>A single constructor with multiple parameters can be used</dt>
<dd><p class="first">to create a tuple type. As an example, consider representing
the four bits in a nybble (half a byte). We first define
a datatype <code class="highlight coq"><span class="n">bit</span></code> that resembles <code class="highlight coq"><span class="n">Bool</span></code> (using the
constructors <code class="highlight coq"><span class="n">B0</span></code> and <code class="highlight coq"><span class="n">B1</span></code> for the two possible bit values)
and then define the datatype <code class="highlight coq"><span class="n">nybble</span></code>, which is essentially
a tuple of four bits.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Bit : <span class="kt">Type</span> :=
  <span class="bp">|</span> B0
  <span class="bp">|</span> B1
<span class="kn">open</span> Bit
<p><span class="kd">inductive</span> Nybble : <span class="kt">Type</span> :=
<span class="bp">|</span> bits (b0 b1 b2 b3 : Bit)
<span class="kn">open</span> Nybble</p>
<p></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk14"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">bits B1 B0 B1 B0 : Nybble</blockquote></div></div></small></span><span class="alectryon-wsp"> (bits B1 B0 B1 B0: Nybble)</span></pre></div></dd></p>
<dt>The <code class="highlight coq"><span class="n">bits</span></code> constructor acts as a wrapper for its contents.</dt>
<dd><p class="first">Unwrapping can be done by pattern-matching, as in the <code class="highlight coq"><span class="n">all_zero</span></code>
function which tests a nybble to see if all its bits are <code class="highlight coq"><span class="n">B0</span></code>.  We
use underscore (_) as a <code class="highlight coq"><span class="n">wildcard</span> <span class="nb">pattern</span></code> to avoid inventing
variable names that will not be used.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> all_zero (nb : Nybble) : Bool :=
  <span class="k">match</span> nb <span class="k">with</span>
  <span class="bp">|</span> (bits B0 B0 B0 B0) <span class="bp">=&gt;</span> true
  <span class="bp">|</span> (bits _ _ _ _) <span class="bp">=&gt;</span> false
<p></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk15"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">false</p>
</blockquote></div></div></small></span><span class="alectryon-wsp"> (all_zero (bits B1 B0 B1 B0))</span></pre></div></dd>
</dl>
<p>===&gt; false : Bool</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk16"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">true
</blockquote></div></div></small></span><span class="alectryon-wsp"> (all_zero (bits B0 B0 B0 B0))</span></pre><p>===&gt; true : Bool</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">end</span> TuplePlayground</span></pre><hr class="docutils" />
<p>** Numbers</p>
<dl class="docutils">
<dt>We put this section in a module so that our own def of</dt>
<dd><p class="first">Natural numbers does not interfere with the one from the
standard library.  In the rest of the book, we'll want to use
the standard library's.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">namespace</span> NatPlayground</span></pre></div></dd>
<dt>All the types we have defined so far -- both &quot;enumerated</dt>
<dd><p class="first">types&quot; such as <code class="highlight coq"><span class="n">day</span></code>, <code class="highlight coq"><span class="n">Bool</span></code>, and <code class="highlight coq"><span class="n">bit</span></code> and tuple types such as
<code class="highlight coq"><span class="n">nybble</span></code> built from them -- are finite.  The Natural numbers, on
the other hand, are an infinite set, so we'll need to use a
slightly richer form of type declaration to represent them.</p>
<p>There are many representations of numbers to choose from. We are
most familiar with decimal notation (base 10), using the digits 0
through 9, for example, to form the number 123.  You may have
encountered hexadecimal notation (base 16), in which the same
number is represented as 7B, or octal (base 8), where it is 173,
or binary (base 2), where it is 1111011. Using an enumerated type
to represent digits, we could use any of these as our
representation Natural numbers. Indeed, there are circumstances
where each of these choices would be useful.</p>
<p>The binary representation is valuable in computer hardware because
the digits can be represented with just two distinct voltage
levels, resulting in simple circuitry. Analogously, we wish here
to choose a representation that makes <strong>proofs</strong> simpler.</p>
<p>In fact, there is a representation of numbers that is even simpler
than binary, namely unary (base 1), in which only a single digit
is used (as our ancient forebears might have done to count Days by
making scratches on the walls of their caves). To represent unary
numbers with a Lean datatype, we use two constructors. The
<code class="highlight coq"><span class="n">zero</span></code> constructor represents zero. When the <code class="highlight coq"><span class="n">succ</span></code>
constructor is applied to the representation of the Natural number
n, the result is the representation of n+1, where <code class="highlight coq"><span class="n">succ</span></code> stands for
&quot;successor&quot; (or &quot;scratch&quot;).  Here is the complete datatype
def.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Nat : <span class="kt">Type</span> :=
  <span class="bp">|</span> zero
  <span class="bp">|</span> succ (n : Nat)
<span class="kn">open</span> Nat</span></pre></div></dd>
<dt>With this def, 0 is represented by <code class="highlight coq"><span class="n">zero</span></code>, 1 by <code class="highlight coq"><span class="n">succ</span> <span class="n">zero</span></code>,</dt>
<dd>2 by <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">)</span></code>, and so on.</dd>
<dt>Informally, the clauses of the def can be read:</dt>
<dd><ul class="first last simple">
<li><code class="highlight coq"><span class="n">zero</span></code> is a Natural number.</li>
<li><code class="highlight coq"><span class="n">succ</span></code> can be put in front of a Natural number to yield another
one -- if <code class="highlight coq"><span class="n">n</span></code> is a Natural number, then <code class="highlight coq"><span class="n">succ</span> <span class="n">n</span></code> is too.</li>
</ul>
</dd>
<dt>Again, let's look at this in a little more detail.  The def</dt>
<dd><p class="first">of <code class="highlight coq"><span class="n">Nat</span></code> says how expressions in the set <code class="highlight coq"><span class="n">Nat</span></code> can be built:</p>
<ul class="last simple">
<li>the constructor expression <code class="highlight coq"><span class="n">zero</span></code> belongs to the set <code class="highlight coq"><span class="n">Nat</span></code>;</li>
<li>if <code class="highlight coq"><span class="n">n</span></code> is a constructor expression belonging to the set <code class="highlight coq"><span class="n">Nat</span></code>,
then <code class="highlight coq"><span class="n">succ</span> <span class="n">n</span></code> is also a constructor expression belonging to the set
<code class="highlight coq"><span class="n">Nat</span></code>; and</li>
<li>constructor expressions formed in these two ways are the only
ones belonging to the set <code class="highlight coq"><span class="n">Nat</span></code>.</li>
</ul>
</dd>
<dt>These conditions are the precise force of the <code class="highlight coq"><span class="n">inductive</span></code></dt>
<dd><p class="first">declaration.  They imply that the constructor expression <code class="highlight coq"><span class="n">zero</span></code>, the
constructor expression <code class="highlight coq"><span class="n">succ</span> <span class="n">zero</span></code>, the constructor expression <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span>
<span class="n">zero</span><span class="o">)</span></code>, the constructor expression <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">))</span></code>, and so on all
belong to the set <code class="highlight coq"><span class="n">Nat</span></code>, while other constructor expressions, like
<code class="highlight coq"><span class="n">true</span></code>, <code class="highlight coq"><span class="n">andb</span> <span class="n">true</span> <span class="n">false</span></code>, <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">false</span><span class="o">)</span></code>, and <code class="highlight coq"><span class="n">zero</span> <span class="o">(</span><span class="n">zero</span> <span class="o">(</span><span class="n">zero</span> <span class="n">succ</span><span class="o">))</span></code> do
not.</p>
<p>A critical point here is that what we've done so far is just to
define a <strong>representation</strong> of numbers: a way of writing them down.
The names <code class="highlight coq"><span class="n">zero</span></code> and <code class="highlight coq"><span class="n">succ</span></code> are arbitrary, and at this point they have
no special meaning -- they are just two different marks that we
can use to write down numbers (together with a rule that says any
<code class="highlight coq"><span class="n">Nat</span></code> will be written as some string of <code class="highlight coq"><span class="n">succ</span></code> marks followed by an
<code class="highlight coq"><span class="n">zero</span></code>).  If we like, we can write essentially the same def
this way:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Nat&#39; : <span class="kt">Type</span> :=
  <span class="bp">|</span> stop
  <span class="bp">|</span> tick (foo : Nat&#39;)
<span class="kn">open</span> Nat&#39;</span></pre></div></dd>
<dt>The <strong>interpretation</strong> of these marks comes from how we use them to</dt>
<dd>compute.</dd>
<dt>We can do this by writing functions that pattern match on</dt>
<dd><p class="first">representations of Natural numbers just as we did above with
Booleans and Days -- for example, here is the predecessor
function:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> pred (n : Nat) : Nat :=
  <span class="k">match</span> n <span class="k">with</span>
  <span class="bp">|</span> zero <span class="bp">=&gt;</span> zero
  <span class="bp">|</span> succ n&#39; <span class="bp">=&gt;</span> n&#39;</span></pre></div></dd>
<dt>The second branch can be read: &quot;if <code class="highlight coq"><span class="n">n</span></code> has the form <code class="highlight coq"><span class="n">succ</span> <span class="n">n'</span></code></dt>
<dd>for some <code class="highlight coq"><span class="n">n'</span></code>, then return <code class="highlight coq"><span class="n">n'</span></code>.&quot;</dd>
<dt>The following <code class="highlight coq"><span class="kn">End</span></code> command closes the current module, so</dt>
<dd><p class="first"><code class="highlight coq"><span class="n">Nat</span></code> will refer back to the type from the standard library.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">end</span> NatPlayground
<p><span class="kn">open</span> Nat</span></pre></div></dd></p>
<dt>Because Natural numbers are such a pervasive form of data,</dt>
<dd><p class="first">Lean provides a tiny bit of built-in magic for parsing and printing
them: ordinary decimal numerals can be used as an alterNative to
the &quot;unary&quot; notation defined by the constructors <code class="highlight coq"><span class="n">succ</span></code> and <code class="highlight coq"><span class="n">zero</span></code>.  Lean
prints numbers in decimal form by default:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk17"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">succ (succ (succ (succ zero))) : Nat</blockquote></div></div></small></span><span class="alectryon-wsp"> (succ (succ (succ (succ zero))))</span></pre></div></dd>
</dl>
<p>===&gt; 4 : Nat</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> minustwo (n : Nat) : Nat :=
  <span class="k">match</span> n <span class="k">with</span>
  <span class="bp">|</span> zero <span class="bp">=&gt;</span> zero
  <span class="bp">|</span> succ zero <span class="bp">=&gt;</span> zero
  <span class="bp">|</span> succ (succ n&#39;) <span class="bp">=&gt;</span> n&#39;
<p></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk18"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="mi">2</span></p>
</blockquote></div></div></small></span><span class="alectryon-wsp"> (minustwo <span class="mi">4</span>)</span></pre><p>===&gt; 2 : Nat</p>
<dl class="docutils">
<dt>The constructor <code class="highlight coq"><span class="n">succ</span></code> has the type <code class="highlight coq"><span class="n">Nat</span> <span class="o">-&gt;</span> <span class="n">Nat</span></code>, just like functions</dt>
<dd><p class="first">such as <code class="highlight coq"><span class="n">pred</span></code> and <code class="highlight coq"><span class="n">minustwo</span></code>:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk19"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">succ : Nat <span class="bp">‚Üí</span> Nat</blockquote></div></div></small></span><span class="alectryon-wsp"> (succ : Nat <span class="bp">-&gt;</span> Nat)
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk1a"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">pred : Nat <span class="bp">‚Üí</span> Nat</blockquote></div></div></small></span><span class="alectryon-wsp"> (pred : Nat <span class="bp">-&gt;</span> Nat)
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk1b"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">minustwo : Nat <span class="bp">‚Üí</span> Nat</blockquote></div></div></small></span><span class="alectryon-wsp"> (minustwo : Nat <span class="bp">-&gt;</span> Nat)</span></pre></div></dd>
<dt>These are all things that can be applied to a number to yield a</dt>
<dd><blockquote class="first">
number.  However, there is a fundamental difference between <code class="highlight coq"><span class="n">succ</span></code>
and the other two: functions like <code class="highlight coq"><span class="n">pred</span></code> and <code class="highlight coq"><span class="n">minustwo</span></code> are
defined by giving <code class="highlight coq"><span class="n">computation</span> <span class="n">rules</span></code> -- e.g., the def of
<code class="highlight coq"><span class="n">pred</span></code> says that <code class="highlight coq"><span class="n">pred</span> <span class="mi">2</span></code> can be simplified to <code class="highlight coq"><span class="mi">1</span></code> -- while the
def of <code class="highlight coq"><span class="n">succ</span></code> has no such behavior attached.  Although it is</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 619)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="last docutils">
<dt><strong>like</strong> a function in the sense that it can be applied to an</dt>
<dd><p class="first">argument, it does not <strong>do</strong> anything at all!  It is just a way of
writing down numbers.</p>
<p>(Think about standard decimal numerals: the numeral <code class="highlight coq"><span class="mi">1</span></code> is not a
computation; it's a piece of data.  When we write <code class="highlight coq"><span class="mi">111</span></code> to mean
the number one hundred and eleven, we are using <code class="highlight coq"><span class="mi">1</span></code>, three times,
to write down a concrete representation of a number.)</p>
<p>Now let's go on and define some more functions over numbers.</p>
<p>For most interesting computations involving numbers, simple
pattern matching is not enough: we also need recursion.  For
example, to check that a number <code class="highlight coq"><span class="n">n</span></code> is even, we may need to
recursively check whether <code class="highlight coq"><span class="n">n</span><span class="o">-</span><span class="mi">2</span></code> is even.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> even (n:Nat) : Bool :=
  <span class="k">match</span> n <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span>      <span class="bp">=&gt;</span> true
  <span class="bp">|</span> <span class="mi">1</span>      <span class="bp">=&gt;</span> false
  <span class="bp">|</span> n&#39;<span class="bp">+</span><span class="mi">2</span>   <span class="bp">=&gt;</span> even n&#39;</span></pre></div></dd>
</dl>
</dd>
<dt>We could define <code class="highlight coq"><span class="n">odd</span></code> by a similar <code class="highlight coq"><span class="n">def</span></code> declaration, but</dt>
<dd><p class="first">here is a simpler way:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> odd (n:Nat) : Bool :=
  negb (even n)
<p><span class="kd">theorem</span> test_odd1: odd <span class="mi">1</span> <span class="bp">=</span> true := rfl
<span class="kd">theorem</span> test_odd2: odd <span class="mi">4</span> <span class="bp">=</span> false := rfl</span></pre></div></dd></p>
<dt>Naturally, we can also define multi-argument functions by</dt>
<dd><p class="first">recursion.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">namespace</span> NatPlayground2
<p><span class="kd">def</span> plus (n : Nat) (m : Nat) : Nat :=
<span class="k">match</span> m <span class="k">with</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> n
<span class="bp">|</span> succ m' <span class="bp">=&gt;</span> succ (plus n m')</span></pre></div></dd></p>
</dl>
<p>Adding three to two now gives us five, as we'd expect.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk1c"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="mi">5</span>
</blockquote></div></div></small></span><span class="alectryon-wsp"> (plus <span class="mi">3</span> <span class="mi">2</span>)</span></pre><p>===&gt; 5 : Nat</p>
<dl class="docutils">
<dt>The steps of simplification that Lean performs can be</dt>
<dd>visualized as follows:</dd>
<dt><code class="highlight coq"><span class="n">plus</span> <span class="mi">3</span> <span class="mi">2</span></code></dt>
<dd><dl class="first docutils">
<dt>i.e. <code class="highlight coq"><span class="n">plus</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">)))</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">))</span></code></dt>
<dd><dl class="first last docutils">
<dt>==&gt; <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">plus</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">))</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">)))</span></code></dt>
<dd>by the second clause of the <code class="highlight coq"><span class="kr">match</span></code></dd>
<dt>==&gt; <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">plus</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">)</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">))))</span></code></dt>
<dd>by the second clause of the <code class="highlight coq"><span class="kr">match</span></code></dd>
<dt>==&gt; <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">plus</span> <span class="n">zero</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">)))))</span></code></dt>
<dd>by the second clause of the <code class="highlight coq"><span class="kr">match</span></code></dd>
<dt>==&gt; <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">zero</span><span class="o">))))</span></code></dt>
<dd>by the first clause of the <code class="highlight coq"><span class="kr">match</span></code></dd>
</dl>
</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 678)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p class="last">i.e. <code class="highlight coq"><span class="mi">5</span></code></p>
</dd>
<dt>As a notational convenience, if two or more arguments have</dt>
<dd><p class="first">the same type, they can be written together.  In the following
def, <code class="highlight coq"><span class="o">(</span><span class="n">n</span> <span class="n">m</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span></code> means just the same as if we had written
<code class="highlight coq"><span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span></code>.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> mult (n m : Nat) : Nat :=
  <span class="k">match</span> m <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> <span class="mi">0</span>
  <span class="bp">|</span> succ m&#39; <span class="bp">=&gt;</span> plus n (mult n m&#39;)
<p><span class="kd">theorem</span> test_mult1: (mult <span class="mi">3</span> <span class="mi">3</span>) <span class="bp">=</span> <span class="mi">9</span> := rfl</span></pre></div></dd></p>
<dt>You can match two expressions at once by putting a comma</dt>
<dd><p class="first">between them:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> minus (n m:Nat) : Nat :=
  <span class="k">match</span> n, m <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span>   , _    <span class="bp">=&gt;</span> <span class="mi">0</span>
  <span class="bp">|</span> succ _ , <span class="mi">0</span>    <span class="bp">=&gt;</span> n
  <span class="bp">|</span> succ n&#39;, succ m&#39; <span class="bp">=&gt;</span> minus n&#39; m&#39;
<p><span class="kd">def</span> exp (base power : Nat) : Nat :=
<span class="k">match</span> power <span class="k">with</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> succ <span class="mi">0</span>
<span class="bp">|</span> succ p <span class="bp">=&gt;</span> mult base (exp base p)</span></pre></div></dd></p>
</dl>
<p><a href="Basics.lean.html#system-message-5"><span class="problematic" id="problematic-5">**</span></a>** Exercise: 1 star, standard (factorial)</p>
<div class="system-message" id="system-message-5">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 708); <em><a href="Basics.lean.html#problematic-5">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Recall the standard mathematical factorial function:</p>
<blockquote>
factorial(0)  =  1
factorial(n)  =  n * factorial(n-1)     (if n&gt;0)</blockquote>
<p>Translate this into Lean.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk1d">factorial</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> (n:Nat) : Nat := <span class="gr">sorry</span>
<p><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk1e">test_factorial1</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: factorial <span class="mi">3</span> <span class="bp">=</span> <span class="mi">6</span> := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk1f">test_factorial2</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: factorial <span class="mi">5</span> <span class="bp">=</span> mult <span class="mi">10</span> <span class="mi">12</span> := <span class="gr">sorry</span></span></pre></blockquote></p>
<p>[]</p>
<dl class="docutils">
<dt>Again, we can make numerical expressions easier to read and write</dt>
<dd><p class="first">by introducing notations for addition, multiplication, and
subtraction. The following notations are commented out since
they're already part of lean's syntax.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c">/-</span><span class="cm"></span>
<span class="cm">infixl:50 &quot;+&quot; =&gt; plus</span>
<span class="cm">infixl:50 &quot;-&quot; =&gt; minus</span>
<span class="cm">infixl:40 &quot;*&quot; =&gt; mult</span>
<span class="cm">-/</span>
<p></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk20"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="mi">0</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span> : Nat</blockquote></div></div></small></span><span class="alectryon-wsp"> ((<span class="mi">0</span> <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> : Nat)</span></pre></div></dd></p>
<dt>(The <code class="highlight coq"><span class="n">infixl</span></code> command and <code class="highlight coq"><span class="o">:</span><span class="mi">50</span></code></dt>
<dd><p class="first">control how these notations are treated by Lean's parser.  The
details are not important for present purposes, but interested
readers can refer to the &quot;More on notations&quot; section at the end of
this chapter.)</p>
<p class="last">Note that these declarations do not change the defs we've
already made: they are simply instructions to the Lean parser to
accept <code class="highlight coq"><span class="n">x</span> <span class="o">+</span> <span class="n">y</span></code> in place of <code class="highlight coq"><span class="n">plus</span> <span class="n">x</span> <span class="n">y</span></code> and, conversely, to the Lean
pretty-printer to display <code class="highlight coq"><span class="n">plus</span> <span class="n">x</span> <span class="n">y</span></code> as <code class="highlight coq"><span class="n">x</span> <span class="o">+</span> <span class="n">y</span></code>.</p>
</dd>
<dt>While Lean does come with many built-in operations like equality, it</dt>
<dd><p class="first">is worthy to note that they can be user-defined operation!
Here is a function <code class="highlight coq"><span class="n">eqb</span></code>, which tests Natural numbers for
<code class="highlight coq"><span class="n">eq</span><span class="o">`</span><span class="n">uality</span><span class="o">,</span> <span class="n">yielding</span> <span class="n">a</span> <span class="o">`</span><span class="n">b</span><span class="o">`</span><span class="n">oolean</span><span class="o">.</span>  <span class="n">Note</span> <span class="n">the</span> <span class="n">use</span> <span class="n">of</span> <span class="n">nested</span>
<span class="o">`</span><span class="kr">match</span><span class="o">`</span><span class="n">es</span> <span class="o">(</span><span class="n">we</span> <span class="n">could</span> <span class="n">also</span> <span class="nb">have</span> <span class="n">used</span> <span class="n">a</span> <span class="n">simultaneous</span> <span class="kr">match</span><span class="o">,</span> <span class="kr">as</span> <span class="n">we</span> <span class="n">did</span>
<span class="kr">in</span> <span class="o">`</span><span class="n">minus</span></code>.)</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> eqb (n m : Nat) : Bool :=
  <span class="k">match</span> n <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> <span class="k">match</span> m <span class="k">with</span>
         <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> true
         <span class="bp">|</span> succ _ <span class="bp">=&gt;</span> false
  <span class="bp">|</span> succ n&#39; <span class="bp">=&gt;</span> <span class="k">match</span> m <span class="k">with</span>
            <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> false
            <span class="bp">|</span> succ m&#39; <span class="bp">=&gt;</span> eqb n&#39; m&#39;</span></pre></div></dd>
<dt>Similarly, the <code class="highlight coq"><span class="n">leb</span></code> function tests whether its first argument is</dt>
<dd><p class="first">less than or equal to its second argument, yielding a Boolean.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> leb (n m : Nat) : Bool :=
  <span class="k">match</span> n <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> true
  <span class="bp">|</span> succ n&#39; <span class="bp">=&gt;</span>
      <span class="k">match</span> m <span class="k">with</span>
      <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> false
      <span class="bp">|</span> succ m&#39; <span class="bp">=&gt;</span> leb n&#39; m&#39;
<p><span class="kd">theorem</span> test_leb1: leb <span class="mi">2</span> <span class="mi">2</span> <span class="bp">=</span> true  := rfl
<span class="kd">theorem</span> test_leb2: leb <span class="mi">2</span> <span class="mi">4</span> <span class="bp">=</span> true  := rfl
<span class="kd">theorem</span> test_leb3: leb <span class="mi">4</span> <span class="mi">2</span> <span class="bp">=</span> false := rfl</span></pre></div></dd></p>
<dt>We'll be using these (especially <code class="highlight coq"><span class="n">eqb</span></code>) a lot, so let's give</dt>
<dd><p class="first">them infix notations.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">notation</span>:<span class="mi">51</span> x <span class="s2">&quot;=?&quot;</span>  y:<span class="mi">51</span>  <span class="bp">=&gt;</span> eqb x y
<span class="kd">notation</span>:<span class="mi">51</span> x <span class="s2">&quot;&lt;=?&quot;</span> y:<span class="mi">51</span> <span class="bp">=&gt;</span> leb x y
<p><span class="kd">theorem</span> test_leb3': <span class="mi">4</span> <span class="bp">&lt;=?</span> <span class="mi">2</span> <span class="bp">=</span> false := rfl</span></pre></div></dd></p>
<dt>We now have two symbols that look like equality: <code class="highlight coq"><span class="o">=</span></code> and</dt>
<dd><code class="highlight coq"><span class="o">=?</span></code>.  We'll have much more to say about the differences and
similarities between them later. For now, the main thing to notice
is that <code class="highlight coq"><span class="n">x</span> <span class="o">=</span> <span class="n">y</span></code> is a logical <strong>claim</strong> -- a &quot;proposition&quot; -- that we
can try to prove, while <code class="highlight coq"><span class="n">x</span> <span class="o">=?</span> <span class="n">y</span></code> is an <strong>expression</strong> whose
value (either <code class="highlight coq"><span class="n">true</span></code> or <code class="highlight coq"><span class="n">false</span></code>) we can compute.</dd>
</dl>
<p><a href="Basics.lean.html#system-message-6"><span class="problematic" id="problematic-6">**</span></a>** Exercise: 1 star, standard (ltb)</p>
<div class="system-message" id="system-message-6">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 794); <em><a href="Basics.lean.html#problematic-6">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>The <code class="highlight coq"><span class="n">ltb</span></code> function tests Natural numbers for <code class="highlight coq"><span class="n">l</span><span class="o">`</span><span class="n">ess</span><span class="o">-`</span><span class="n">t</span><span class="o">`</span><span class="n">han</span><span class="o">,</span>
<span class="n">yielding</span> <span class="n">a</span> <span class="o">`</span><span class="n">b</span><span class="o">`</span><span class="n">oolean</span><span class="o">.</span>  <span class="n">Instead</span> <span class="n">of</span> <span class="n">making</span> <span class="n">up</span> <span class="n">a</span> <span class="n">new</span> <span class="o">`</span><span class="kn">Fixpoint</span></code> for
this one, define it in terms of a previously defined
function.  (It can be done with just one previously defined
function, but you can use two if you want.)</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk21">ltb</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> (n m : Nat) : Bool := <span class="gr">sorry</span>
<p><span class="kd">notation</span>:<span class="mi">51</span> x <span class="s2">&quot;&lt;?&quot;</span> y:<span class="mi">51</span> <span class="bp">=&gt;</span> ltb x y</p>
<p><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk22">test_ltb1</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: ltb <span class="mi">2</span> <span class="mi">2</span> <span class="bp">=</span> false := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk23">test_ltb2</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: ltb <span class="mi">2</span> <span class="mi">4</span> <span class="bp">=</span> true  := <span class="gr">sorry</span>
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk24">test_ltb3</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp">: ltb <span class="mi">4</span> <span class="mi">2</span> <span class="bp">=</span> false := <span class="gr">sorry</span></span></pre></blockquote></p>
<p>[]</p>
<hr class="docutils" />
<ul class="simple">
<li>Proof by Reflection</li>
</ul>
<dl class="docutils">
<dt>Now that we've defined a few datatypes and functions, let's</dt>
<dd><p class="first">turn to stating and proving properties of their behavior.
Actually, we've already started doing this: each <code class="highlight coq"><span class="n">theorem</span></code> in the
previous sections makes a precise claim about the behavior of some
function on some particular inputs.  The proofs of these claims
were always the same: use <code class="highlight coq"><span class="n">rfl</span></code> to check that both sides contain
identical values.</p>
<p>The same sort of &quot;proof by simplification&quot; can be used to prove
more interesting properties as well.  For example, the fact that
<code class="highlight coq"><span class="mi">0</span></code> is a &quot;neutral element&quot; for <code class="highlight coq"><span class="o">+</span></code> on the right can be proved just
by observing that <code class="highlight coq"><span class="n">n</span> <span class="o">+</span> <span class="mi">0</span></code> reduces to <code class="highlight coq"><span class="n">n</span></code> no matter what <code class="highlight coq"><span class="n">n</span></code> is -- a
fact that can be read directly off the def of <code class="highlight coq"><span class="n">plus</span></code>.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> plus_O_n : <span class="bp">‚àÄ</span> n : Nat, n <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> n :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk25"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk26">intro n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk27">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
<dt><code class="highlight coq"><span class="n">rfl</span></code> tries &quot;unfolding&quot; defined terms, replacing them with their</dt>
<dd><p class="first">right-hand sides. If rfl succeeds, the whole goal is finished and
we don't need to look at whatever expanded expressions <code class="highlight coq"><span class="n">rfl</span></code> has created
by all this simplification and unfolding</p>
<p>The form of the theorem we just stated and its proof are almost
exactly the same as the simpler theorems we saw earlier; there is
just one difference.</p>
<p class="last">We've added the quantifier <code class="highlight coq"><span class="kr">‚àÄ</span> <span class="nv">n</span><span class="o">:</span><span class="n">Nat</span></code>, so that our
theorem talks about <strong>all</strong> Natural numbers <code class="highlight coq"><span class="n">n</span></code>.  Informally, to
prove theorems of this form, we generally start by saying &quot;Suppose
<code class="highlight coq"><span class="n">n</span></code> is some number...&quot;  Formally, this is achieved in the proof by
<code class="highlight coq"><span class="nb">intros</span> <span class="n">n</span></code>, which moves <code class="highlight coq"><span class="n">n</span></code> from the quantifier in the goal to a
<strong>context</strong> of current assumptions. Note that we could have used
another identifier instead of <code class="highlight coq"><span class="n">n</span></code> in the <code class="highlight coq"><span class="nb">intros</span></code> clause, (though
of course this might be confusing to human readers of the proof):</p>
</dd>
<dt>The keywords <code class="highlight coq"><span class="nb">intros</span></code> and <code class="highlight coq"><span class="n">rfl</span></code> are examples of</dt>
<dd><strong>tactics</strong>. A tactic is a command that is introduced by the <code class="highlight coq"><span class="bp">by</span></code> keyword
to guide the process of checking some claim we are making.
We will see several more tactics in the rest of this chapter and
many more in future chapters.</dd>
</dl>
<p>Other similar theorems can be proved with the same pattern.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> plus_1_r : <span class="bp">‚àÄ</span> n: Nat, n <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> succ n :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk28"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk29">intro n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> succ n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk2a">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span> mult_0_r : <span class="bp">‚àÄ</span> n: Nat, n <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk2b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk2c">intro n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk2d">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><dl class="docutils">
<dt>The <code class="highlight coq"><span class="n">_r</span></code> suffix in the names of these theorems is</dt>
<dd>pronounced &quot;on the right.&quot;</dd>
<dt>It is worth stepping through these proofs to observe how the</dt>
<dd>context and the goal change.</dd>
</dl>
<hr class="docutils" />
<ul class="simple">
<li>Proof by Rewriting</li>
</ul>
<dl class="docutils">
<dt>The following theorem is a bit more interesting than the</dt>
<dd><p class="first">ones we've seen:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> plus_id_example : <span class="bp">‚àÄ</span> n m: Nat,
  n <span class="bp">=</span> m <span class="bp">-&gt;</span>
  n <span class="bp">+</span> n <span class="bp">=</span> m <span class="bp">+</span> m :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk2e"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="c">/-</span><span class="cm">Instead of making a universal claim about all numbers `n` and `m`,</span>
<span class="cm">    it talks about a more specialized property that only holds when</span>
<span class="cm">    `n = m`.  The arrow symbol is pronounced &quot;implies.&quot;</span>
<p><span class="cm">    As before, we need to be able to reason by assuming we are given such</span>
<span class="cm">    numbers <code>n</code> and <code>m</code>.  We also need to assume the hypothesis</span>
<span class="cm">    <code>n = m</code>. The <code>intro</code> tactic will serve to move all three of these</span>
<span class="cm">    from the goal into assumptions in the current context.</span></p>
<p><span class="cm">    Since <code>n</code> and <code>m</code> are arbitrary numbers, we can't just use</span>
<span class="cm">    simplification to prove this theorem.  Instead, we prove it by</span>
<span class="cm">    observing that, if we are assuming <code>n = m</code>, then we can replace</span>
<span class="cm">    <code>n</code> with <code>m</code> in the goal statement and obtain an equality with the</span>
<span class="cm">    same expression on both sides.  The tactic that tells Lean to</span>
<span class="cm">    perform this replacement is called <code>rewrite</code>. -/</span></p>
<p></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk2f">intro n m</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">=</span> m <span class="bp">‚Üí</span> n <span class="bp">+</span> n <span class="bp">=</span> m <span class="bp">+</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">move the hypothesis into the context: -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk30">intro H</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">+</span> n <span class="bp">=</span> m <span class="bp">+</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">rewrite the goal using the hypothesis: -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk31">rewrite [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">+</span> n <span class="bp">=</span> m <span class="bp">+</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk32">H</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m <span class="bp">+</span> m <span class="bp">=</span> m <span class="bp">+</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk33">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m <span class="bp">+</span> m <span class="bp">=</span> m <span class="bp">+</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk34">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd></p>
<dt>The first line of the proof moves the universally quantified</dt>
<dd><p class="first">variables <code class="highlight coq"><span class="n">n</span></code> and <code class="highlight coq"><span class="n">m</span></code> into the context.  The second moves the
hypothesis <code class="highlight coq"><span class="n">n</span> <span class="o">=</span> <span class="n">m</span></code> into the context and gives it the name <code class="highlight coq"><span class="n">H</span></code>.
The third tells Lean to rewrite the current goal (<code class="highlight coq"><span class="n">n</span> <span class="o">+</span> <span class="n">n</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="n">m</span></code>)
by replacing the left side of the equality hypothesis <code class="highlight coq"><span class="n">H</span></code> with the
right side.</p>
<p class="last">(note that <code class="highlight coq"><span class="n">H</span></code> is enclosed in brackets. This is because <code class="highlight coq"><span class="nb">rewrite</span></code> is meant
to be used to do multiple rewrites in a single tactic call. As such, all the
hypothesises you want to use to rewrite your goal can be written as
<code class="highlight coq"><span class="nb">rewrite</span> <span class="o">[</span><span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="o">,</span> <span class="o">...,</span> <span class="n">Hn</span><span class="o">]</span></code>. Furthermore, when using <code class="highlight coq"><span class="n">H</span> <span class="o">:</span> <span class="n">foo</span> <span class="o">=</span> <span class="n">bar</span></code>,
<code class="highlight coq"><span class="nb">rewrite</span></code> will try to replace all instances of <code class="highlight coq"><span class="n">foo</span></code> with <code class="highlight coq"><span class="n">bar</span></code>.
you can also ask the tactic to replace <code class="highlight coq"><span class="n">bar</span></code> with <code class="highlight coq"><span class="n">foo</span></code> instead, by writing
<code class="highlight coq"><span class="o">&lt;-</span><span class="n">H</span></code> instead of <code class="highlight coq"><span class="n">H</span></code>. You can try to do so in the previous example, and see
what it does.)</p>
</dd>
</dl>
<p><a href="Basics.lean.html#system-message-7"><span class="problematic" id="problematic-7">**</span></a>** Exercise: 1 star, standard (plus_id_exercise)</p>
<div class="system-message" id="system-message-7">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 920); <em><a href="Basics.lean.html#problematic-7">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Remove &quot;<code class="highlight coq"><span class="n">sorry</span><span class="o">.</span></code>&quot; and fill in the proof.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk35">plus_id_exercise</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : <span class="bp">‚àÄ</span> n m o : Nat,
  n <span class="bp">=</span> m <span class="bp">-&gt;</span> m <span class="bp">=</span> o <span class="bp">-&gt;</span> n <span class="bp">+</span> m <span class="bp">=</span> m <span class="bp">+</span> o :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk36"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk37"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<dl class="docutils">
<dt>The <code class="highlight coq"><span class="n">sorry</span></code> command tells Lean that we want to skip trying</dt>
<dd>to prove this theorem and just accept it as a given.  This can be
useful for developing longer proofs, since we can state subsidiary
lemmas that we believe will be useful for making some larger
argument, use <code class="highlight coq"><span class="n">sorry</span></code> to accept them on faith for the moment,
and continue working on the main argument until we are sure it
makes sense; then we can go back and fill in the proofs we
skipped.  Be careful, though: every time you say <code class="highlight coq"><span class="n">sorry</span></code> you
are leaving a door open for total nonsense to enter Lean's nice,
rigorous, formally checked world!</dd>
<dt>The <code class="highlight coq"><span class="o">#</span><span class="n">check</span></code> command can also be used to examine the statements of</dt>
<dd><p class="first">previously declared lemmas and theorems.  The two examples below
are lemmas about multiplication that are proved in the standard
library.  (We will see how to prove them ourselves in the next
chapter.)</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk38"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Nat.mul_zero (n : Nat) : n <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></blockquote></div></div></small></span><span class="alectryon-wsp"> Nat.mul_zero</span></pre></div></dd>
</dl>
<p>===&gt; ‚àÄ (n : Nat), n * 0 = 0</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk39"><span class="k">#check</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Nat.mul_succ (n m : Nat) : n <span class="bp">*</span> succ m <span class="bp">=</span> n <span class="bp">*</span> m <span class="bp">+</span> n</blockquote></div></div></small></span><span class="alectryon-wsp"> Nat.mul_succ</span></pre><p>===&gt; ‚àÄ (n m : Nat), n * succ m = n * m + n</p>
<dl class="docutils">
<dt>We can use the <code class="highlight coq"><span class="nb">rewrite</span></code> tactic with a previously proved theorem</dt>
<dd><p class="first">instead of a hypothesis from the context. If the statement of the
previously proved theorem involves quantified variables, as in the
example below, Lean tries to instantiate them by matching with the
current goal.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> mult_n_0_m_0 : <span class="bp">‚àÄ</span> p q : Nat,
  (p <span class="bp">*</span> <span class="mi">0</span>) <span class="bp">+</span> (q <span class="bp">*</span> <span class="mi">0</span>) <span class="bp">=</span> <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk3a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk3b">intros p q</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">*</span> <span class="mi">0</span> <span class="bp">+</span> q <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk3c">rewrite [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">*</span> <span class="mi">0</span> <span class="bp">+</span> q <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk3d">Nat.mul_zero</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">+</span> q <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk3e">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">+</span> q <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk3f">rewrite [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">+</span> q <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk40">Nat.mul_zero</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk41">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk42">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
</dl>
<p><a href="Basics.lean.html#system-message-8"><span class="problematic" id="problematic-8">**</span></a>** Exercise: 1 star, standard (mult_n_1)</p>
<div class="system-message" id="system-message-8">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 966); <em><a href="Basics.lean.html#problematic-8">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Use those two lemmas about multiplication that we just checked to
prove the following theorem.  Hint: recall that <code class="highlight coq"><span class="mi">1</span></code> is <code class="highlight coq"><span class="n">succ</span> <span class="n">zero</span></code>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk43">mult_n_1</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : <span class="bp">‚àÄ</span> p : Nat,
  p <span class="bp">*</span> <span class="mi">1</span> <span class="bp">=</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk44"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk45"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<hr class="docutils" />
<ul class="simple">
<li>Proof by Case Analysis</li>
</ul>
<dl class="docutils">
<dt>Of course, not everything can be proved by simple</dt>
<dd><p class="first">calculation and rewriting: In general, unknown, hypothetical
values (arbitrary numbers, Booleans, lists, etc.) can block
simplification.  For example, if we try to prove the following
fact using the <code class="highlight coq"><span class="nb">simpl</span></code> tactic as above, we get stuck.  (We then
use the <code class="highlight coq"><span class="kn">Abort</span></code> command to give up on it for the moment.)</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk46">plus_1_neq_0_firsttry</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : <span class="bp">‚àÄ</span> n : Nat,
  ((<span class="mi">1</span><span class="bp">+</span> n) <span class="bp">=?</span> <span class="mi">0</span>) <span class="bp">=</span> false :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk47"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk48">intro n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">+</span> n<span class="bp">=?</span><span class="mi">0</span> <span class="bp">=</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk49">try</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">+</span> n<span class="bp">=?</span><span class="mi">0</span> <span class="bp">=</span> false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk4a">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">+</span> n<span class="bp">=?</span><span class="mi">0</span> <span class="bp">=</span> false</div></blockquote></div></div></small></span><span class="alectryon-wsp"> <span class="c1">--Doesn&#39;t work !</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk4b"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
<dt>The reason for this is that the defs of both <code class="highlight coq"><span class="n">eqb</span></code></dt>
<dd><p class="first">and <code class="highlight coq"><span class="o">+</span></code> begin by performing a <code class="highlight coq"><span class="kr">match</span></code> on their first argument.
But here, the first argument to <code class="highlight coq"><span class="o">+</span></code> is the unknown number <code class="highlight coq"><span class="n">n</span></code> and
the argument to <code class="highlight coq"><span class="n">eqb</span></code> is the compound expression <code class="highlight coq"><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span></code>; neither
can be simplified.</p>
<p>To make progress, we need to consider the possible forms of <code class="highlight coq"><span class="n">n</span></code>
separately.  If <code class="highlight coq"><span class="n">n</span></code> is <code class="highlight coq"><span class="n">O</span></code>, then we can calculate the final result
of <code class="highlight coq"><span class="o">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">=?</span> <span class="mi">0</span></code> and check that it is, indeed, <code class="highlight coq"><span class="n">false</span></code>.  And if
<code class="highlight coq"><span class="n">n</span> <span class="o">=</span> <span class="n">S</span> <span class="n">n'</span></code> for some <code class="highlight coq"><span class="n">n'</span></code>, then, although we don't know exactly
what number <code class="highlight coq"><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span></code> represents, we can calculate that, at least,
it will begin with one <code class="highlight coq"><span class="n">succ</span></code>, and this is enough to calculate that,
again, <code class="highlight coq"><span class="o">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">=?</span> <span class="mi">0</span></code> will yield <code class="highlight coq"><span class="n">false</span></code>.</p>
<p>The tactic that tells Lean to consider, separately, the cases where
<code class="highlight coq"><span class="n">n</span> <span class="o">=</span> <span class="n">O</span></code> and where <code class="highlight coq"><span class="n">n</span> <span class="o">=</span> <span class="n">succ</span> <span class="n">n'</span></code> is called <code class="highlight coq"><span class="n">cases</span></code>.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> plus_1_neq_0 : <span class="bp">‚àÄ</span> n : Nat,
  ((n <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">=?</span> <span class="mi">0</span>) <span class="bp">=</span> false :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk4c"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk4d">intros n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">+</span> <span class="mi">1</span><span class="bp">=?</span><span class="mi">0</span> <span class="bp">=</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk4e">cases n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">zero</span></span><div class="goal-conclusion">zero <span class="bp">+</span> <span class="mi">1</span><span class="bp">=?</span><span class="mi">0</span> <span class="bp">=</span> false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="basics-lean-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><label class="goal-separator" for="basics-lean-chk4f"><hr><span class="goal-name">succ</span></label><div class="goal-conclusion">succ n<span class="bp">‚úù</span> <span class="bp">+</span> <span class="mi">1</span><span class="bp">=?</span><span class="mi">0</span> <span class="bp">=</span> false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk50"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">zero</span></span><div class="goal-conclusion">zero <span class="bp">+</span> <span class="mi">1</span><span class="bp">=?</span><span class="mi">0</span> <span class="bp">=</span> false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk51">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk52"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">succ</span></span><div class="goal-conclusion">succ n<span class="bp">‚úù</span> <span class="bp">+</span> <span class="mi">1</span><span class="bp">=?</span><span class="mi">0</span> <span class="bp">=</span> false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk53">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
<dt>The <code class="highlight coq"><span class="n">cases</span></code> generates <strong>two</strong> subgoals, which we must then</dt>
<dd><p class="first">prove, separately, in order to get Lean to accept the theorem.</p>
<p>In each subgoal, Lean remembers the assumption about <code class="highlight coq"><span class="n">n</span></code> that is
relevant for this subgoal -- either <code class="highlight coq"><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span></code> or <code class="highlight coq"><span class="n">n</span> <span class="o">=</span> <span class="n">succ</span> <span class="n">n</span><span class="o">‚úù</span></code> for some
n'.  Writing <code class="highlight coq"><span class="n">cases</span> <span class="n">H</span> <span class="o">:</span> <span class="n">n</span></code> tells <code class="highlight coq"><span class="n">cases</span></code> to give the name <code class="highlight coq"><span class="n">H</span></code>
to this equation.</p>
<p>The <code class="highlight coq"><span class="o">¬∑</span></code> signs on the second and third lines are called <strong>bullets</strong>,
and they mark the parts of the proof that correspond to the two
generated subgoals.  The part of the proof script that comes after
a bullet is the entire proof for the corresponding subgoal.  In
this example, each of the subgoals is easily proved by a single
use of <code class="highlight coq"><span class="n">rfl</span></code>, which itself performs some simplification --
e.g., the second one simplifies <code class="highlight coq"><span class="o">(</span><span class="n">succ</span> <span class="n">n'</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">=?</span> <span class="mi">0</span></code> to <code class="highlight coq"><span class="n">false</span></code> by
first rewriting <code class="highlight coq"><span class="o">(</span><span class="n">succ</span> <span class="n">n'</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span></code> to <code class="highlight coq"><span class="n">succ</span> <span class="o">(</span><span class="n">n'</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span></code>, then unfolding
<code class="highlight coq"><span class="n">eqb</span></code>, and then simplifying the <code class="highlight coq"><span class="kr">match</span></code>.</p>
<p>Marking cases with bullets is optional: if bullets are not
present, Lean simply asks you to prove each subgoal in sequence,
one at a time. But it is a good idea to use bullets.  For one
thing, they make the structure of a proof apparent, improving
readability. Also, bullets instruct Lean to ensure that a subgoal
is complete before trying to verify the next one, preventing
proofs for different subgoals from getting mixed up. These issues
become especially important in large developments, where fragile
proofs lead to long debugging sessions.</p>
<p>When using tactics, Lean might need to generate new variables on the fly,
such as the <code class="highlight coq"><span class="n">n</span><span class="o">‚úù</span></code> seen in the previous proof. By default, these variable are
said to be innacessible, in the sense that the user cannot write and
make use of them by calling them by their name. The goal of this is to encourage
the user to name every introduced variable he might need. How one does so will
depend on the tactic he's currently using. In the case of <code class="highlight coq"><span class="n">cases</span></code>, you can write
<a href="Basics.lean.html#system-message-9"><span class="problematic" id="problematic-9">`</span></a>cases n with</p>
<div class="system-message" id="system-message-9">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1046); <em><a href="Basics.lean.html#problematic-9">backlink</a></em></p>
Inline interpreted text or phrase reference start-string without end-string.</div>
<blockquote>
<div class="line-block">
<div class="line">zero =&gt; rfl</div>
<div class="line">succ n' =&gt; rfl`</div>
</div>
</blockquote>
<p>instead of
<a href="Basics.lean.html#system-message-10"><span class="problematic" id="problematic-10">`</span></a>cases n</p>
<div class="system-message" id="system-message-10">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1057); <em><a href="Basics.lean.html#problematic-10">backlink</a></em></p>
Inline interpreted text or phrase reference start-string without end-string.</div>
<blockquote>
¬∑ rfl
¬∑ rfl</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1062)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p><a href="Basics.lean.html#system-message-11"><span class="problematic" id="problematic-11">`</span></a></p>
<div class="system-message" id="system-message-11">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1062); <em><a href="Basics.lean.html#problematic-11">backlink</a></em></p>
Inline interpreted text or phrase reference start-string without end-string.</div>
<p>The syntax is very similar to the usual way you might do pattern-matching.</p>
<p>This is also a good place to mention one other piece of somewhat
obvious advice about line lengths.  Beginning Lean users sometimes
tend to the extremes, either writing each tactic on its own line
or writing entire proofs on a single line.  Good style lies
somewhere in the middle.  One reasonable guideline is to limit
yourself to 80-character lines.</p>
<p>The <code class="highlight coq"><span class="n">cases</span></code> tactic can be used with any inductively defined
datatype.  For example, we use it next to prove that Boolean
negation is involutive -- i.e., that negation is its own
inverse.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> negb_involutive : <span class="bp">‚àÄ</span> b : Bool,
  negb (negb b) <span class="bp">=</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk54"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk55">intros b</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negb (negb b) <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk56">cases b</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false</span></span><div class="goal-conclusion">negb (negb false) <span class="bp">=</span> false</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true</span></span><div class="goal-conclusion">negb (negb true) <span class="bp">=</span> true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk57"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false</span></span><div class="goal-conclusion">negb (negb false) <span class="bp">=</span> false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk58">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk59"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true</span></span><div class="goal-conclusion">negb (negb true) <span class="bp">=</span> true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk5a">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
<dt>Note that the <code class="highlight coq"><span class="n">cases</span></code> here has no <code class="highlight coq"><span class="kr">as</span></code> clause because</dt>
<dd><p class="first">none of the subcases of the <code class="highlight coq"><span class="n">cases</span></code> need to bind any variables,
so there is no need to specify any names.  In fact, we can omit
the <code class="highlight coq"><span class="kr">as</span></code> clause from <strong>any</strong> <code class="highlight coq"><span class="n">cases</span></code> and Lean will fill in
variable names automatically.  This is generally considered bad
style, since Lean often makes confusing choices of names when left
to its own devices.</p>
<p>It is sometimes useful to invoke <code class="highlight coq"><span class="n">cases</span></code> inside a subgoal,
generating yet more proof obligations. In this case, we can use bullets
again, indented one more time to keep the &quot;tree-like&quot; structure of the proof
in place.
For example:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> andb_commutative : <span class="bp">‚àÄ</span> b c, andb b c <span class="bp">=</span> andb c b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk5b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk5c">intro b c</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(b and c) <span class="bp">=</span> c and b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk5d">cases b</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false</span></span><div class="goal-conclusion">(false and c) <span class="bp">=</span> c and false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="basics-lean-chk5e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><label class="goal-separator" for="basics-lean-chk5e"><hr><span class="goal-name">true</span></label><div class="goal-conclusion">(true and c) <span class="bp">=</span> c and true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk5f"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false</span></span><div class="goal-conclusion">(false and c) <span class="bp">=</span> c and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk60">cases c</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.false</span></span><div class="goal-conclusion">(false and false) <span class="bp">=</span> false and false</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true</span></span><div class="goal-conclusion">(false and true) <span class="bp">=</span> true and false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk61"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.false</span></span><div class="goal-conclusion">(false and false) <span class="bp">=</span> false and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk62">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk63"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true</span></span><div class="goal-conclusion">(false and true) <span class="bp">=</span> true and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk64">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk65"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">true</span></span><div class="goal-conclusion">(true and c) <span class="bp">=</span> c and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk66">cases c</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.false</span></span><div class="goal-conclusion">(true and false) <span class="bp">=</span> false and true</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true</span></span><div class="goal-conclusion">(true and true) <span class="bp">=</span> true and true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk67"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.false</span></span><div class="goal-conclusion">(true and false) <span class="bp">=</span> false and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk68">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk69"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true</span></span><div class="goal-conclusion">(true and true) <span class="bp">=</span> true and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk6a">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
<dt>Each pair of calls to <code class="highlight coq"><span class="n">rfl</span></code> corresponds to the</dt>
<dd>subgoals that were generated after the execution of the <code class="highlight coq"><span class="n">cases</span> <span class="n">c</span></code>
line right above it.</dd>
</dl>
<p>Besides <code class="highlight coq"><span class="o">¬∑</span></code>, we can also enclose sub-proofs in curly braces:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> andb_commutative&#39; : <span class="bp">‚àÄ</span> b c, andb b c <span class="bp">=</span> andb c b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk6b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk6c">intro b c</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(b and c) <span class="bp">=</span> c and b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk6d">cases b</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false</span></span><div class="goal-conclusion">(false and c) <span class="bp">=</span> c and false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="basics-lean-chk6e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><label class="goal-separator" for="basics-lean-chk6e"><hr><span class="goal-name">true</span></label><div class="goal-conclusion">(true and c) <span class="bp">=</span> c and true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk6f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false</span></span><div class="goal-conclusion">(false and c) <span class="bp">=</span> c and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk70">cases c</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.false</span></span><div class="goal-conclusion">(false and false) <span class="bp">=</span> false and false</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true</span></span><div class="goal-conclusion">(false and true) <span class="bp">=</span> true and false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk71">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.false</span></span><div class="goal-conclusion">(false and false) <span class="bp">=</span> false and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk72">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk73"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true</span></span><div class="goal-conclusion">(false and true) <span class="bp">=</span> true and false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk74">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true</span></span><div class="goal-conclusion">(false and true) <span class="bp">=</span> true and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk75">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk76"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk77"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">true</span></span><div class="goal-conclusion">(true and c) <span class="bp">=</span> c and true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk78">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">true</span></span><div class="goal-conclusion">(true and c) <span class="bp">=</span> c and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk79">cases c</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.false</span></span><div class="goal-conclusion">(true and false) <span class="bp">=</span> false and true</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true</span></span><div class="goal-conclusion">(true and true) <span class="bp">=</span> true and true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk7a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.false</span></span><div class="goal-conclusion">(true and false) <span class="bp">=</span> false and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk7b">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk7c"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true</span></span><div class="goal-conclusion">(true and true) <span class="bp">=</span> true and true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk7d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true</span></span><div class="goal-conclusion">(true and true) <span class="bp">=</span> true and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk7e">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk7f"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk80"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><dl class="docutils">
<dt>Since curly braces mark both the beginning and the end of a proof,</dt>
<dd><p class="first">they can be used for multiple subgoal levels, as this example
shows. The choice of braces, bullets, or a combination of the
two is purely a matter of taste.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> andb3_exchange :
  <span class="bp">‚àÄ</span> b c d, andb (andb b c) d <span class="bp">=</span> andb (andb b d) c :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk81"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk82">intro b c d</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, c, d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((b and c)and d) <span class="bp">=</span> (b and d)and c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk83">cases b</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c, d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false</span></span><div class="goal-conclusion">((false and c)and d) <span class="bp">=</span> (false and d)and c</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="basics-lean-chk84" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c, d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><label class="goal-separator" for="basics-lean-chk84"><hr><span class="goal-name">true</span></label><div class="goal-conclusion">((true and c)and d) <span class="bp">=</span> (true and d)and c</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk85"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c, d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false</span></span><div class="goal-conclusion">((false and c)and d) <span class="bp">=</span> (false and d)and c</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk86">cases c</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false.false</span></span><div class="goal-conclusion">((false and false)and d) <span class="bp">=</span> (false and d)and false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="basics-lean-chk87" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><label class="goal-separator" for="basics-lean-chk87"><hr><span class="goal-name">false.true</span></label><div class="goal-conclusion">((false and true)and d) <span class="bp">=</span> (false and d)and true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk88">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false.false</span></span><div class="goal-conclusion">((false and false)and d) <span class="bp">=</span> (false and d)and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk89">cases d</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.false.false</span></span><div class="goal-conclusion">((false and false)and false) <span class="bp">=</span> (false and false)and false</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.false.true</span></span><div class="goal-conclusion">((false and false)and true) <span class="bp">=</span> (false and true)and false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk8a"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.false.false</span></span><div class="goal-conclusion">((false and false)and false) <span class="bp">=</span> (false and false)and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk8b">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk8c"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.false.true</span></span><div class="goal-conclusion">((false and false)and true) <span class="bp">=</span> (false and true)and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk8d">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk8e"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false.true</span></span><div class="goal-conclusion">((false and true)and d) <span class="bp">=</span> (false and d)and true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk8f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">false.true</span></span><div class="goal-conclusion">((false and true)and d) <span class="bp">=</span> (false and d)and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk90">cases d</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true.false</span></span><div class="goal-conclusion">((false and true)and false) <span class="bp">=</span> (false and false)and true</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true.true</span></span><div class="goal-conclusion">((false and true)and true) <span class="bp">=</span> (false and true)and true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk91"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true.false</span></span><div class="goal-conclusion">((false and true)and false) <span class="bp">=</span> (false and false)and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk92">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk93"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">false.true.true</span></span><div class="goal-conclusion">((false and true)and true) <span class="bp">=</span> (false and true)and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk94">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk95"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk96"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>c, d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">true</span></span><div class="goal-conclusion">((true and c)and d) <span class="bp">=</span> (true and d)and c</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk97">cases c</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">true.false</span></span><div class="goal-conclusion">((true and false)and d) <span class="bp">=</span> (true and d)and false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="basics-lean-chk98" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><label class="goal-separator" for="basics-lean-chk98"><hr><span class="goal-name">true.true</span></label><div class="goal-conclusion">((true and true)and d) <span class="bp">=</span> (true and d)and true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk99">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">true.false</span></span><div class="goal-conclusion">((true and false)and d) <span class="bp">=</span> (true and d)and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk9a">cases d</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.false.false</span></span><div class="goal-conclusion">((true and false)and false) <span class="bp">=</span> (true and false)and false</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.false.true</span></span><div class="goal-conclusion">((true and false)and true) <span class="bp">=</span> (true and true)and false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk9b"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.false.false</span></span><div class="goal-conclusion">((true and false)and false) <span class="bp">=</span> (true and false)and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk9c">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk9d"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.false.true</span></span><div class="goal-conclusion">((true and false)and true) <span class="bp">=</span> (true and true)and false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk9e">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk9f"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">true.true</span></span><div class="goal-conclusion">((true and true)and d) <span class="bp">=</span> (true and d)and true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka0">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>Bool</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">true.true</span></span><div class="goal-conclusion">((true and true)and d) <span class="bp">=</span> (true and d)and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka1">cases d</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true.false</span></span><div class="goal-conclusion">((true and true)and false) <span class="bp">=</span> (true and false)and true</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true.true</span></span><div class="goal-conclusion">((true and true)and true) <span class="bp">=</span> (true and true)and true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka2"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true.false</span></span><div class="goal-conclusion">((true and true)and false) <span class="bp">=</span> (true and false)and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka3">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka4"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">true.true.true</span></span><div class="goal-conclusion">((true and true)and true) <span class="bp">=</span> (true and true)and true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka5">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka6"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
</dl>
<p><a href="Basics.lean.html#system-message-12"><span class="problematic" id="problematic-12">**</span></a>** Exercise: 2 stars, standard (andb_true_elim2)</p>
<div class="system-message" id="system-message-12">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1150); <em><a href="Basics.lean.html#problematic-12">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Prove the following claim, marking cases (and subcases) with
bullets when you use <code class="highlight coq"><span class="n">cases</span></code>.</p>
<p>Hint: You will eventually need to cases both Booleans, as in
the theorems above. But, delay introducing the hypothesis until
after you have an opportunity to simplify it.</p>
<p>Hint 2: When you reach contradiction in the hypotheses, focus
on how to <code class="highlight coq"><span class="nb">rewrite</span></code> with that contradiction.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka7">andb_true_elim2</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : <span class="bp">‚àÄ</span> b c : Bool,
  andb b c <span class="bp">=</span> true <span class="bp">-&gt;</span> c <span class="bp">=</span> true :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka8"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chka9"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<p><a href="Basics.lean.html#system-message-13"><span class="problematic" id="problematic-13">**</span></a>** Exercise: 1 star, standard (zero_nbeq_plus_1)</p>
<div class="system-message" id="system-message-13">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1168); <em><a href="Basics.lean.html#problematic-13">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkaa">zero_nbeq_plus_1</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : <span class="bp">‚àÄ</span> n : Nat,
  (<span class="mi">0</span> <span class="bp">=?</span> (n <span class="bp">+</span> <span class="mi">1</span>)) <span class="bp">=</span> false :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkab"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkac"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>[]</p>
<hr class="docutils" />
<p>** More on Notation (Optional)</p>
<dl class="docutils">
<dt>(In general, sections marked Optional are not needed to follow the</dt>
<dd><p class="first">rest of the book, except possibly other Optional sections.  On a
first reading, you might want to skim these sections so that you
know what's there for future reference.)</p>
<p>Recall the notation defs for infix plus and times:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">infixl</span>:<span class="mi">50</span> <span class="s2">&quot;+&quot;</span> <span class="bp">=&gt;</span> plus
<span class="kd">infixl</span>:<span class="mi">40</span> <span class="s2">&quot;*&quot;</span> <span class="bp">=&gt;</span> mult</span></pre></div></dd>
<dt>For each notation symbol in Lean, we can specify its precedence</dt>
<dd>level and its associativity.  The precedence level <code class="highlight coq"><span class="n">n</span></code> is
specified by writing <code class="highlight coq"><span class="o">:</span><span class="n">n</span></code> after naming the command; this helps Lean parse compound
expressions.  The associativity setting helps to disambiguate
expressions containing multiple occurrences of the same
symbol. For example, the parameters specified above for <code class="highlight coq"><span class="o">+</span></code> and
<code class="highlight coq"><span class="o">*</span></code> say that the expression <code class="highlight coq"><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">4</span></code> is shorthand for
<code class="highlight coq"><span class="o">(</span><span class="mi">1</span><span class="o">+((</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">)*</span><span class="mi">4</span><span class="o">))</span></code>. Lean uses precedence levels from 0 to 1024, and
<strong>left</strong> (<code class="highlight coq"><span class="n">infixl</span></code>), <strong>right</strong> (<code class="highlight coq"><span class="n">infixr</span></code>), or <strong>no</strong> (<code class="highlight coq"><span class="n">notation</span></code>) associativity.
We will see more examples of this later, e.g., in the <code class="highlight coq"><span class="n">Lists</span></code>
chapter.</dd>
</dl>
<hr class="docutils" />
<p>** Fixpoints and Structural Recursion (Optional)</p>
<p>Here is a copy of the def of addition:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> plus&#39; (n : Nat) (m : Nat) : Nat :=
  <span class="k">match</span> n <span class="k">with</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="bp">=&gt;</span> m
  <span class="bp">|</span> succ n&#39; <span class="bp">=&gt;</span> succ (plus&#39; n&#39; m)</span></pre><dl class="docutils">
<dt>When Lean checks this def, it notes that <code class="highlight coq"><span class="n">plus'</span></code> is</dt>
<dd><p class="first">&quot;decreasing on 1st argument.&quot;  What this means is that we are
performing a <strong>structural recursion</strong> over the argument <code class="highlight coq"><span class="n">n</span></code> -- i.e.,
that we make recursive calls only on strictly smaller values of
<code class="highlight coq"><span class="n">n</span></code>.  This implies that all calls to <code class="highlight coq"><span class="n">plus'</span></code> will eventually
termiNate.  Lean demands that some argument of <strong>every</strong> <code class="highlight coq"><span class="n">def</span></code>
def is &quot;decreasing.&quot;</p>
<p class="last">This requirement is a fundamental feature of Lean's design: In
particular, it guarantees that every function that can be defined
in Lean will terminate on all inputs.  However, because Lean's
&quot;decreasing analysis&quot; is not very sophisticated, it is sometimes
necessary to write functions in slightly unnatural ways.</p>
</dd>
</dl>
<p><a href="Basics.lean.html#system-message-14"><span class="problematic" id="problematic-14">**</span></a>** Exercise: 2 stars, standard, optional (decreasing)</p>
<div class="system-message" id="system-message-14">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1224); <em><a href="Basics.lean.html#problematic-14">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
To get a concrete sense of this, find a way to write a sensible
<code class="highlight coq"><span class="n">def</span></code> def (of a simple function on numbers, say) that
<strong>does</strong> terminate on all inputs, but that Lean will reject because
of this restriction.  (If you choose to turn in this optional
exercise as part of a homework assignment, make sure you comment
out your solution so that it doesn't cause Lean to reject the whole
file!)</blockquote>
<p>FILL IN HERE</p>
<blockquote>
[]</blockquote>
<hr class="docutils" />
<ul class="simple">
<li>More Exercises</li>
</ul>
<hr class="docutils" />
<p>** Warmups</p>
<p><a href="Basics.lean.html#system-message-15"><span class="problematic" id="problematic-15">**</span></a>** Exercise: 1 star, standard (identity_fn_applied_twice)</p>
<div class="system-message" id="system-message-15">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1244); <em><a href="Basics.lean.html#problematic-15">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Use the tactics you have learned so far to prove the following
theorem about Boolean functions.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkad">identity_fn_applied_twice</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  <span class="bp">‚àÄ</span> (f : Bool <span class="bp">-&gt;</span> Bool),
  (<span class="bp">‚àÄ</span> (x : Bool), f x <span class="bp">=</span> x) <span class="bp">-&gt;</span>
  <span class="bp">‚àÄ</span> (b : Bool), f (f b) <span class="bp">=</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkae"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkaf"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<p><a href="Basics.lean.html#system-message-16"><span class="problematic" id="problematic-16">**</span></a>** Exercise: 1 star, standard (negation_fn_applied_twice)</p>
<div class="system-message" id="system-message-16">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1258); <em><a href="Basics.lean.html#problematic-16">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
Now state and prove a theorem <code class="highlight coq"><span class="n">negation_fn_applied_twice</span></code> similar
to the previous one but where the second hypothesis says that the
function <code class="highlight coq"><span class="n">f</span></code> has the property that <code class="highlight coq"><span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="n">negb</span> <span class="n">x</span></code>.</blockquote>
<p>FILL IN HERE</p>
<p>Do not modify the following line:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> manual_grade_for_negation_fn_applied_twice : Option (Nat <span class="bp">√ó</span> string) := none</span></pre><p>(The last def is used by the autograder.)</p>
<blockquote>
[]</blockquote>
<p><a href="Basics.lean.html#system-message-17"><span class="problematic" id="problematic-17">**</span></a>** Exercise: 3 stars, standard, optional (andb_eq_orb)</p>
<div class="system-message" id="system-message-17">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1272); <em><a href="Basics.lean.html#problematic-17">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Prove the following theorem.  (Hint: This one can be a bit tricky,
depending on how you approach it.  You will probably need both
<code class="highlight coq"><span class="n">cases</span></code> and <code class="highlight coq"><span class="nb">rewrite</span></code>, but casesing everything in sight is
not the best way.)</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb0">andb_eq_orb</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  <span class="bp">‚àÄ</span> (b c : Bool),
  (andb b c <span class="bp">=</span> orb b c) <span class="bp">-&gt;</span>
  b <span class="bp">=</span> c :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb1"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb2"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<hr class="docutils" />
<p>** Course Late Policies Formalized</p>
<dl class="docutils">
<dt>Suppose that a course has a grading policy based on late Days such</dt>
<dd><p class="first">that a student's final letter grade is lowered if they submit too
many homework assignments late.</p>
<p>In this series of problems, we model that situation using the
features of Lean that we have seen so far and prove some basic
facts about the grading policy.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">namespace</span> LateDays</span></pre></div></dd>
<dt>First, we inroduce a datatype for modeling the &quot;letter&quot; component</dt>
<dd><p class="first">of a grade.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Letter : <span class="kt">Type</span> :=
  <span class="bp">|</span> A <span class="bp">|</span> B <span class="bp">|</span> C <span class="bp">|</span> D <span class="bp">|</span> F
<span class="kn">open</span> Letter</span></pre></div></dd>
<dt>Then we define the modifiers -- a <code class="highlight coq"><span class="n">Natural</span></code> <code class="highlight coq"><span class="n">A</span></code> is just a &quot;plain&quot;</dt>
<dd><p class="first">grade of <code class="highlight coq"><span class="n">A</span></code>.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Modifier : <span class="kt">Type</span> :=
  <span class="bp">|</span> Plus <span class="bp">|</span> Natural <span class="bp">|</span> Minus
<span class="kn">open</span> Modifier</span></pre></div></dd>
</dl>
<p>A full <code class="highlight coq"><span class="n">Grade</span></code>, then, is just a <code class="highlight coq"><span class="n">Letter</span></code> and a <code class="highlight coq"><span class="n">Modifier</span></code>.</p>
<blockquote>
<p>We might write, informally, &quot;A-&quot; for the Lean value <code class="highlight coq"><span class="n">grade</span> <span class="n">A</span> <span class="n">Minus</span></code>,
and similarly &quot;C&quot; for the Lean value <code class="highlight coq"><span class="n">grade</span> <span class="n">C</span> <span class="n">Natural</span></code>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Grade : <span class="kt">Type</span> :=
  <span class="bp">|</span> grade (l:Letter) (m:Modifier)
<span class="kn">open</span> Grade</span></pre></blockquote>
<dl class="docutils">
<dt>We will want to be able to say when one grade is &quot;better&quot; than</dt>
<dd><p class="first">another.  In other words, we need a way to compare two grades.  As
with Natural numbers, we could define <code class="highlight coq"><span class="n">Bool</span></code>-valued functions
<code class="highlight coq"><span class="n">grade_eqb</span></code>, <code class="highlight coq"><span class="n">grade_ltb</span></code>, etc., and that would work fine.
However, we can also define a slightly more informative type for
comparing two values, as shown below.  This datatype as three
constructors that can be used to indicate whether two values are
&quot;equal&quot;, &quot;less than&quot;, or &quot;greater than&quot; one another. (This
def also appears in the Lean standard libary.)</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Comparison : <span class="kt">Type</span> :=
  <span class="bp">|</span> eq : Comparison        <span class="c">/-</span><span class="cm">&quot;equal&quot; -/</span>
  <span class="bp">|</span> lt : Comparison        <span class="c">/-</span><span class="cm">&quot;less than&quot; -/</span>
  <span class="bp">|</span> gt : Comparison        <span class="c">/-</span><span class="cm">&quot;greater than&quot; -/</span>
deriving Repr
<span class="kn">open</span> Comparison</span></pre></div></dd>
<dt>Using pattern matching, it is not too difficult to define the</dt>
<dd><p class="first">comparison operation for two letters <code class="highlight coq"><span class="n">l1</span></code> and <code class="highlight coq"><span class="n">l2</span></code> (see below).
This def uses two features of <code class="highlight coq"><span class="kr">match</span></code> patterns: First,
recall that we can match against <strong>two</strong> values simultaneously by
separating them and the corresponding patterns with comma <code class="highlight coq"><span class="o">,</span></code>.
This is simply a convenient abbreviation for nested pattern
matching.  For example, the first two cases are just shorthand for
the nested version shown on the right:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c">/-</span><span class="cm">  match l1, l2 with          match l1 with</span>
<span class="cm">  | A, A =&gt; eq               | A =&gt; match l2 with</span>
<span class="cm">  | A, _ =&gt; gt                      | A =&gt; eq</span>
<span class="cm">                                    | _ =&gt; gt</span>
<span class="cm">-/</span></span></pre></div></dd>
<dt>As another shorthand, we can also match one of several</dt>
<dd><p class="first">possibilites by using <code class="highlight coq"><span class="o">|</span></code> as short hand.  For example the pattern
<code class="highlight coq"><span class="o">|</span> <span class="n">C</span><span class="o">,</span> <span class="n">A</span> <span class="o">|</span> <span class="n">C</span><span class="o">,</span> <span class="n">B</span><span class="o">)</span></code> stands for two cases: <code class="highlight coq"><span class="n">C</span><span class="o">,</span> <span class="n">A</span></code> and <code class="highlight coq"><span class="n">C</span><span class="o">,</span> <span class="n">B</span></code> and will
match either possibility.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> letter_comparison (l1 l2 : Letter) : Comparison :=
  <span class="k">match</span> l1, l2 <span class="k">with</span>
  <span class="bp">|</span> A, A <span class="bp">=&gt;</span> eq
  <span class="bp">|</span> A, _ <span class="bp">=&gt;</span> gt
  <span class="bp">|</span> B, A <span class="bp">=&gt;</span> lt
  <span class="bp">|</span> B, B <span class="bp">=&gt;</span> eq
  <span class="bp">|</span> B, _ <span class="bp">=&gt;</span> gt
  <span class="bp">|</span> C, A <span class="bp">|</span> C, B <span class="bp">=&gt;</span> lt
  <span class="bp">|</span> C, C <span class="bp">=&gt;</span> eq
  <span class="bp">|</span> C, _ <span class="bp">=&gt;</span> gt
  <span class="bp">|</span> D, A <span class="bp">|</span> D, B <span class="bp">|</span> D, C <span class="bp">=&gt;</span> lt
  <span class="bp">|</span> D, D <span class="bp">=&gt;</span> eq
  <span class="bp">|</span> D, _ <span class="bp">=&gt;</span> gt
  <span class="bp">|</span> F, A <span class="bp">|</span> F, B <span class="bp">|</span> F,C <span class="bp">|</span> F, D <span class="bp">=&gt;</span> lt
  <span class="bp">|</span> F, F <span class="bp">=&gt;</span> eq</span></pre></div></dd>
<dt>We can test the <code class="highlight coq"><span class="kr">let</span><span class="nv">ter_comparison</span></code> operation by trying it out on a few</dt>
<dd><p class="first">examples.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb3"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">NatPlayground2.LateDays.Comparison.lt
</blockquote></div></div></small></span><span class="alectryon-wsp"> letter_comparison B A</span></pre></div></dd>
</dl>
<p>==&gt; lt</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb4"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">NatPlayground2.LateDays.Comparison.eq
</blockquote></div></div></small></span><span class="alectryon-wsp"> letter_comparison D D</span></pre><p>==&gt; eq</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb5"><span class="k">#eval</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">NatPlayground2.LateDays.Comparison.gt
</blockquote></div></div></small></span><span class="alectryon-wsp"> letter_comparison B F</span></pre><p>==&gt; gt</p>
<dl class="docutils">
<dt>As a further sanity check, we can prove that the</dt>
<dd><code class="highlight coq"><span class="kr">let</span><span class="nv">ter_comparison</span></code> function does indeed give the result <code class="highlight coq"><span class="n">eq</span></code> when
comparing a letter <code class="highlight coq"><span class="n">l</span></code> against itself.</dd>
</dl>
<p><a href="Basics.lean.html#system-message-18"><span class="problematic" id="problematic-18">**</span></a>** Exercise: 1 star, standard (letter_comparison)</p>
<div class="system-message" id="system-message-18">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1384); <em><a href="Basics.lean.html#problematic-18">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Prove the following theorem.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb6">letter_comparison_eq</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  <span class="bp">‚àÄ</span> l, letter_comparison l l <span class="bp">=</span> eq :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb7"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb8"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<dl class="docutils">
<dt>We can follow the same strategy to define the comparison operation</dt>
<dd><p class="first">for two grade modifiers.  We consider them to be ordered as
<code class="highlight coq"><span class="n">Plus</span> <span class="o">&gt;</span> <span class="n">Natural</span> <span class="o">&gt;</span> <span class="n">Minus</span></code>.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> modifier_comparison (m1 m2 : Modifier) : Comparison :=
  <span class="k">match</span> m1, m2 <span class="k">with</span>
  <span class="bp">|</span> Plus, Plus <span class="bp">=&gt;</span> eq
  <span class="bp">|</span> Plus, _ <span class="bp">=&gt;</span> gt
  <span class="bp">|</span> Natural, Plus <span class="bp">=&gt;</span> lt
  <span class="bp">|</span> Natural, Natural <span class="bp">=&gt;</span> eq
  <span class="bp">|</span> Natural, _ <span class="bp">=&gt;</span> gt
  <span class="bp">|</span> Minus, Plus <span class="bp">|</span> Minus, Natural <span class="bp">=&gt;</span> lt
  <span class="bp">|</span> Minus, Minus <span class="bp">=&gt;</span> eq</span></pre></div></dd>
</dl>
<p><a href="Basics.lean.html#system-message-19"><span class="problematic" id="problematic-19">**</span></a>** Exercise: 2 stars, standard (grade_comparison)</p>
<div class="system-message" id="system-message-19">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1408); <em><a href="Basics.lean.html#problematic-19">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Use pattern matching to complete the following def.  Note
that the ordering on grades is sometimes called &quot;lexicographic&quot;
ordering: we first compare the letters and, only in the case that
the letters are equal do we need to consider the modifiers.
(I.e. all grade variants of <code class="highlight coq"><span class="n">A</span></code> are greater than all
grade variants of <code class="highlight coq"><span class="n">B</span></code>.)</p>
<p>Hint: match against <code class="highlight coq"><span class="n">g1</span></code> and <code class="highlight coq"><span class="n">g2</span></code> simultaneously, but don't try to
enumerate all the cases.  Instead do case analysis on the result
of a suitable call to <code class="highlight coq"><span class="kr">let</span><span class="nv">ter_comparison</span></code> to end up with just <code class="highlight coq"><span class="mi">3</span></code>
possibilities.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkb9">grade_comparison</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> (g1 g2 : Grade) : comparison
  <span class="c">/-</span><span class="cm">REPLACE THIS LINE WITH &quot;:= _your_def_ .&quot; -/</span>
  := <span class="gr">sorry</span></span></pre></blockquote>
<dl class="docutils">
<dt>The following &quot;unit tests&quot; of your <code class="highlight coq"><span class="n">grade_comparison</span></code> function</dt>
<dd><p class="first">should pass after you have defined it correctly.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkba">test_grade_comparison1</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  (grade_comparison (grade A Minus) (grade B Plus)) <span class="bp">=</span> gt :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkbb"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkbc"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkbd">test_grade_comparison2</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  (grade_comparison (grade A Minus) (grade A Plus)) <span class="bp">=</span> lt :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkbe"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkbf"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc0">test_grade_comparison3</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  (grade_comparison (grade F Plus) (grade F Plus)) <span class="bp">=</span> eq :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc1"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc2"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc3">test_grade_comparison4</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  (grade_comparison (grade B Minus) (grade C Plus)) <span class="bp">=</span> gt :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc5"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
</dl>
<p>[]</p>
<dl class="docutils">
<dt>Now that we have a def of grades and how they compare to</dt>
<dd>one another, let us implement the late penalty fuction.</dd>
<dt>First, we define what it means to lower the <code class="highlight coq"><span class="n">Letter</span></code> component of</dt>
<dd><p class="first">a grade. Note that, since <code class="highlight coq"><span class="n">F</span></code> is already the lowest grade
possible, we just leave it untouched.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> lower_letter (l : Letter) : Letter :=
  <span class="k">match</span> l <span class="k">with</span>
  <span class="bp">|</span> A <span class="bp">=&gt;</span> B
  <span class="bp">|</span> B <span class="bp">=&gt;</span> C
  <span class="bp">|</span> C <span class="bp">=&gt;</span> D
  <span class="bp">|</span> D <span class="bp">=&gt;</span> F
  <span class="bp">|</span> F <span class="bp">=&gt;</span> F  </span></pre></div></dd>
</dl>
<p>Note that you can't go lower than <code class="highlight coq"><span class="n">F</span></code></p>
<dl class="docutils">
<dt>Already our formalization can help us understand some corner cases</dt>
<dd><p class="first">of the grading policy.  For example, we might expect that if we
use the <code class="highlight coq"><span class="n">lower_letter</span></code> function its result will actually be lower,
as claimed in the following theorem.  But this theorem is not
provable!  Why?</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc6">lower_letter_lowers</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp">: <span class="bp">‚àÄ</span> (l : Letter),
  letter_comparison (lower_letter l) l <span class="bp">=</span> lt :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc7"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc8">intros l</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>Letter</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">letter_comparison (lower_letter l) l <span class="bp">=</span> lt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkc9">cases l</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">A</span></span><div class="goal-conclusion">letter_comparison (lower_letter A) A <span class="bp">=</span> lt</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">B</span></span><div class="goal-conclusion">letter_comparison (lower_letter B) B <span class="bp">=</span> lt</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">C</span></span><div class="goal-conclusion">letter_comparison (lower_letter C) C <span class="bp">=</span> lt</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">D</span></span><div class="goal-conclusion">letter_comparison (lower_letter D) D <span class="bp">=</span> lt</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">F</span></span><div class="goal-conclusion">letter_comparison (lower_letter F) F <span class="bp">=</span> lt</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkca"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">A</span></span><div class="goal-conclusion">letter_comparison (lower_letter A) A <span class="bp">=</span> lt</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkcb">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkcc"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">B</span></span><div class="goal-conclusion">letter_comparison (lower_letter B) B <span class="bp">=</span> lt</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkcd">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkce"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">C</span></span><div class="goal-conclusion">letter_comparison (lower_letter C) C <span class="bp">=</span> lt</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkcf">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd0"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">D</span></span><div class="goal-conclusion">letter_comparison (lower_letter D) D <span class="bp">=</span> lt</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd1">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd2"><span class="bp">¬∑</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">F</span></span><div class="goal-conclusion">letter_comparison (lower_letter F) F <span class="bp">=</span> lt</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd3"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span></pre></div></dd>
</dl>
<p>We get stuck here.</p>
<dl class="docutils">
<dt>The problem, of course, has to do with the &quot;edge case&quot; of lowering</dt>
<dd><p class="first"><code class="highlight coq"><span class="n">F</span></code>, as we can see like this:</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> lower_letter_F_is_F:
  lower_letter F <span class="bp">=</span> F :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd5">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
<dt>Now we can state a better version of the lower letter theorem that</dt>
<dd>actually is provable.  In this version, the hypothesis about <code class="highlight coq"><span class="n">F</span></code>
says that <code class="highlight coq"><span class="n">F</span></code> is strictly smaller than <code class="highlight coq"><span class="n">l</span></code>, which rules out the
problematic case above. In other words, as long as <code class="highlight coq"><span class="n">l</span></code> is bigger
than <code class="highlight coq"><span class="n">F</span></code>, it will be lowered.</dd>
</dl>
<p><a href="Basics.lean.html#system-message-20"><span class="problematic" id="problematic-20">**</span></a>** Exercise: 2 stars, standard (lower_letter_lowers_fixed)</p>
<div class="system-message" id="system-message-20">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1491); <em><a href="Basics.lean.html#problematic-20">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Prove the following theorem.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd6">lower_letter_lowers_fixed</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp">:
  <span class="bp">‚àÄ</span> (l : Letter),
    letter_comparison F l <span class="bp">=</span> lt <span class="bp">-&gt;</span>
    letter_comparison (lower_letter l) l <span class="bp">=</span> lt :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd7"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd8"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<p><a href="Basics.lean.html#system-message-21"><span class="problematic" id="problematic-21">**</span></a>** Exercise: 2 stars, standard (lower_grade)</p>
<div class="system-message" id="system-message-21">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1504); <em><a href="Basics.lean.html#problematic-21">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>We can now use the <code class="highlight coq"><span class="n">lower_letter</span></code> def as a helper to define
what it means to lower a grade by one step.  Implement the
def below so that it sends a grade <code class="highlight coq"><span class="n">g</span></code> to one step lower
unless it is already <code class="highlight coq"><span class="n">grade</span> <span class="n">F</span> <span class="n">Minus</span></code>, which should remain
unchanged.  Once you have implemented this def correctly,
the subsequent example &quot;unit tests&quot; should hold trivially.</p>
<p>Hint: To make this a succinct def that is easy to prove
properties about, you will probably want to use nested pattern
matching. The outer match should not match on the specific letter
component of the grade -- it should consider only the modifier.
You should definitely <strong>not</strong> try to enumerate all of the
cases. (Our solution is under 10 lines of code, total.)</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkd9">lower_grade</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> (g : Grade) : Grade
  <span class="c">/-</span><span class="cm">REPLACE THIS LINE WITH &quot;:= _your_def_ .&quot; -/</span>
  := <span class="gr">sorry</span>
<p><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkda">lower_grade_A_Plus</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
lower_grade (grade A Plus) <span class="bp">=</span> (grade A Natural) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkdb"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkdc"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkdd">lower_grade_A_Natural</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
lower_grade (grade A Natural) <span class="bp">=</span> (grade A Minus) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkde"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkdf"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke0">lower_grade_A_Minus</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
lower_grade (grade A Minus) <span class="bp">=</span> (grade B Plus) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke1"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke2"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke3">lower_grade_B_Plus</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
lower_grade (grade B Plus) <span class="bp">=</span> (grade B Natural) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke5"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke6">lower_grade_F_Natural</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
lower_grade (grade F Natural) <span class="bp">=</span> (grade F Minus) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke7"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke8"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chke9">lower_grade_twice</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
lower_grade (lower_grade (grade B Minus)) <span class="bp">=</span> (grade C Natural) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkea"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkeb"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkec">lower_grade_thrice</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
lower_grade (lower_grade (lower_grade (grade B Minus))) <span class="bp">=</span> (grade C Minus) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chked"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkee"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkef">lower_grade_F_Minus</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : lower_grade (grade F Minus) <span class="bp">=</span> (grade F Minus) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf1"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote></p>
<p>GRADE_THEOREM 0.25: lower_grade_A_Plus</p>
<p>GRADE_THEOREM 0.25: lower_grade_A_Natural</p>
<p>GRADE_THEOREM 0.25: lower_grade_A_Minus</p>
<p>GRADE_THEOREM 0.25: lower_grade_B_Plus</p>
<p>GRADE_THEOREM 0.25: lower_grade_F_Natural</p>
<p>GRADE_THEOREM 0.25: lower_grade_twice</p>
<p>GRADE_THEOREM 0.25: lower_grade_thrice</p>
<p>GRADE_THEOREM 0.25: lower_grade_F_Minus</p>
<blockquote>
[]</blockquote>
<p><a href="Basics.lean.html#system-message-22"><span class="problematic" id="problematic-22">**</span></a>** Exercise: 3 stars, standard (lower_grade_lowers)</p>
<div class="system-message" id="system-message-22">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1573); <em><a href="Basics.lean.html#problematic-22">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Now prove the following theorem, which says that, as long as the
grade starts out above F-, the <code class="highlight coq"><span class="n">lower_grade</span></code> option does indeed
lower the grade.  As usual, casesing everything in sight is
<strong>not</strong> a good idea.  Judicious use of <code class="highlight coq"><span class="n">cases</span></code>, along with
rewriting is a better strategy.</p>
<p>Hint: If you define your <code class="highlight coq"><span class="n">grade_comparison</span></code> function as suggested,
you will need to rewrite using <code class="highlight coq"><span class="kr">let</span><span class="nv">ter_comparison_eq</span></code> in two
cases.  The remaining case is the only one in which you need to
cases a <code class="highlight coq"><span class="n">Letter</span></code>.  The case for <code class="highlight coq"><span class="n">F</span></code> will probably benefit from
<code class="highlight coq"><span class="n">lower_grade_F_Minus</span></code>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf2">lower_grade_lowers</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  <span class="bp">‚àÄ</span> (g : Grade),
    grade_comparison (grade F Minus) g <span class="bp">=</span> lt <span class="bp">-&gt;</span>
    grade_comparison (lower_grade g) g <span class="bp">=</span> lt :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf3"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf4"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<dl class="docutils">
<dt>Now that we have implemented and tested a function that lowers a</dt>
<dd><p class="first">grade by one step, we can implement a specific late Days policy.
Given a number of <code class="highlight coq"><span class="n">late_days</span></code>, the <code class="highlight coq"><span class="n">apply_late_policy</span></code> function
computes the final grade from <code class="highlight coq"><span class="n">g</span></code>, the initial grade.</p>
<p>This function encodes the following policy:</p>
<blockquote class="last">
<dl class="docutils">
<dt># late Days     penalty</dt>
<dd><blockquote class="first">
0 - 8        no penalty
9 - 16       lower grade by one step (A+ =&gt; A, A =&gt; A-, A- =&gt; B+, etc.)</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1605)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="last docutils">
<dt>17 - 20       lower grade by two steps</dt>
<dd><p class="first">&gt;= 21       lower grade by three steps (a whole letter)</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> apply_late_policy (late_days : Nat) (g : Grade) : Grade :=
  <span class="k">if</span> late_days <span class="bp">&lt;?</span> <span class="mi">9</span> <span class="k">then</span> g
  <span class="k">else</span> <span class="k">if</span> late_days <span class="bp">&lt;?</span> <span class="mi">17</span> <span class="k">then</span> lower_grade g
  <span class="k">else</span> <span class="k">if</span> late_days <span class="bp">&lt;?</span> <span class="mi">21</span> <span class="k">then</span> lower_grade (lower_grade g)
  <span class="k">else</span> lower_grade (lower_grade (lower_grade g))</span></pre></div></dd>
</dl>
</dd>
</dl>
</blockquote>
</dd>
<dt>Sometimes it is useful to be able to &quot;unfold&quot; a def to be</dt>
<dd><p class="first">able to make progress on a proof.  Soon, we will see how to do this
in a much simpler way automatically, but for now, it is easy to prove
that a use of any def like <code class="highlight coq"><span class="n">apply_late_policy</span></code> is equal to its
right hand side. (It follows just from rfl.)</p>
<p>This result is useful because it allows us to use <code class="highlight coq"><span class="nb">rewrite</span></code> to
expose the internals of the def.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> apply_late_policy_unfold :
  <span class="bp">‚àÄ</span> (late_days : Nat) (g : Grade),
    (apply_late_policy late_days g)
    <span class="bp">=</span>
    (<span class="k">if</span> late_days <span class="bp">&lt;?</span> <span class="mi">9</span> <span class="k">then</span> g  <span class="k">else</span>
       <span class="k">if</span> late_days <span class="bp">&lt;?</span> <span class="mi">17</span> <span class="k">then</span> lower_grade g
       <span class="k">else</span> <span class="k">if</span> late_days <span class="bp">&lt;?</span> <span class="mi">21</span> <span class="k">then</span> lower_grade (lower_grade g)
            <span class="k">else</span> lower_grade (lower_grade (lower_grade g))) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf5"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf6">intro n g</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Grade</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">apply_late_policy n g <span class="bp">=</span>
  <span class="k">if</span> n<span class="bp">&lt;?</span><span class="mi">9</span> <span class="bp">=</span> true <span class="k">then</span> g
  <span class="k">else</span>
    <span class="k">if</span> n<span class="bp">&lt;?</span><span class="mi">17</span> <span class="bp">=</span> true <span class="k">then</span> lower_grade g
    <span class="k">else</span> <span class="k">if</span> n<span class="bp">&lt;?</span><span class="mi">21</span> <span class="bp">=</span> true <span class="k">then</span> lower_grade (lower_grade g) <span class="k">else</span> lower_grade (lower_grade (lower_grade g))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf7">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
</dl>
<p>Let's prove some properties about this policy...</p>
<dl class="docutils">
<dt>This theorem states that if a student accrues no more than 8 late</dt>
<dd>Days throughout the semester, your grade is unaffected. It is
easy to prove, once you use the <code class="highlight coq"><span class="n">apply_late_policy_unfold</span></code>
you can rewrite using the hypothesis.</dd>
</dl>
<p><a href="Basics.lean.html#system-message-23"><span class="problematic" id="problematic-23">**</span></a>** Exercise: 2 stars, standard (no_penalty_for_mostly_on_time)</p>
<div class="system-message" id="system-message-23">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1640); <em><a href="Basics.lean.html#problematic-23">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Prove the following theorem.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf8">no_penalty_for_mostly_on_time</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  <span class="bp">‚àÄ</span> (late_days : Nat) (g : Grade),
    (late_days <span class="bp">&lt;?</span> <span class="mi">9</span>) <span class="bp">=</span> true <span class="bp">-&gt;</span>
    apply_late_policy late_days g <span class="bp">=</span> g :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkf9"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkfa"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<dl class="docutils">
<dt>The following theorem proves that, as long as a student has</dt>
<dd>between 9 and 16 late Days, their final grade is lowered by one
step.</dd>
</dl>
<p><a href="Basics.lean.html#system-message-24"><span class="problematic" id="problematic-24">**</span></a>** Exercise: 2 stars, standard (graded_lowered_once)</p>
<div class="system-message" id="system-message-24">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1657); <em><a href="Basics.lean.html#problematic-24">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>Prove the following theorem.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkfb">grade_lowered_once</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
  <span class="bp">‚àÄ</span> (late_days : Nat) (g : Grade),
    (late_days <span class="bp">&lt;?</span> <span class="mi">9</span>) <span class="bp">=</span> false <span class="bp">-&gt;</span>
    (late_days <span class="bp">&lt;?</span> <span class="mi">17</span>) <span class="bp">=</span> true <span class="bp">-&gt;</span>
    (grade_comparison (grade F Minus) g <span class="bp">=</span> lt) <span class="bp">-&gt;</span>
    (apply_late_policy late_days g) <span class="bp">=</span> (lower_grade g) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkfc"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkfd"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></blockquote>
<p>[]</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">end</span> LateDays</span></pre><hr class="docutils" />
<p>** Binary Numerals</p>
<p><a href="Basics.lean.html#system-message-25"><span class="problematic" id="problematic-25">**</span></a>** Exercise: 3 stars, standard (binary)</p>
<div class="system-message" id="system-message-25">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">../Basics.lean</tt>, line 1676); <em><a href="Basics.lean.html#problematic-25">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<blockquote>
<p>We can generalize our unary representation of Natural numbers to
the more efficient binary representation by treating a binary
number as a sequence of constructors <code class="highlight coq"><span class="n">B0</span></code> and <code class="highlight coq"><span class="n">B1</span></code> (representing 0s
and 1s), termiNated by a <code class="highlight coq"><span class="n">Z</span></code>. For comparison, in the unary
representation, a number is a sequence of <code class="highlight coq"><span class="n">S</span></code> constructors termiNated
by an <code class="highlight coq"><span class="n">O</span></code>.</p>
<p>For example:</p>
<blockquote>
<dl class="docutils">
<dt>decimal               binary                          unary</dt>
<dd>0                       Z                              O
1                    B1 Z                            S O
2                B0 (B1 Z)                        S (S O)
3                B1 (B1 Z)                     S (S (S O))
4            B0 (B0 (B1 Z))                 S (S (S (S O)))
5            B1 (B0 (B1 Z))              S (S (S (S (S O))))
6            B0 (B1 (B1 Z))           S (S (S (S (S (S O)))))
7            B1 (B1 (B1 Z))        S (S (S (S (S (S (S O))))))
8        B0 (B0 (B0 (B1 Z)))    S (S (S (S (S (S (S (S O)))))))</dd>
</dl>
</blockquote>
<p>Note that the low-order bit is on the left and the high-order bit
is on the right -- the opposite of the way binary numbers are
usually written.  This choice makes them easier to manipulate.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">inductive</span> Bin : <span class="kt">Type</span> :=
  <span class="bp">|</span> Z
  <span class="bp">|</span> B0 (n : Bin)
  <span class="bp">|</span> B1 (n : Bin)
<span class="kn">open</span> Bin</span></pre></blockquote>
<dl class="docutils">
<dt>Complete the defs below of an increment function <code class="highlight coq"><span class="n">incr</span></code></dt>
<dd><p class="first">for binary numbers, and a function <code class="highlight coq"><span class="n">bin_to_Nat</span></code> to convert
binary numbers to unary numbers.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkfe">incr</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> (m:Bin) : Bin
  <span class="c">/-</span><span class="cm">REPLACE THIS LINE WITH &quot;:= _your_def_ .&quot; -/</span>
  := <span class="gr">sorry</span>
<p><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chkff">bin_to_Nat</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">'</span><span class="gr">sorry</span><span class="bp">'</span></blockquote></div></div></small></span><span class="alectryon-wsp"> (m:Bin) : Nat
<span class="c">/-</span><span class="cm">REPLACE THIS LINE WITH &quot;:= <em>your_def</em> .&quot; -/</span>
:= <span class="gr">sorry</span></span></pre></div></dd></p>
<dt>The following &quot;unit tests&quot; of your increment and binary-to-unary</dt>
<dd><p class="first">functions should pass after you have defined those functions correctly.
Of course, unit tests don't fully demonstrate the correctness of
your functions!  We'll return to that thought at the end of the
next chapter.</p>
<div class="last"><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk100">test_bin_incr1</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : (incr (B1 Z)) <span class="bp">=</span> B0 (B1 Z) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk101"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk102"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk103">test_bin_incr2</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : (incr (B0 (B1 Z))) <span class="bp">=</span> B1 (B1 Z) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk104"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk105"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk106">test_bin_incr3</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : (incr (B1 (B1 Z))) <span class="bp">=</span> B0 (B0 (B1 Z)) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk107"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk108"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk109">test_bin_incr4</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> : bin_to_Nat (B0 (B1 Z)) <span class="bp">=</span> <span class="mi">2</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk10a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk10b"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk10c">test_bin_incr5</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
        bin_to_Nat (incr (B1 Z)) <span class="bp">=</span> <span class="mi">1</span> <span class="bp">+</span> bin_to_Nat (B1 Z) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk10d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk10e"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk10f">test_bin_incr6</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span><span class="alectryon-wsp"> :
        bin_to_Nat (incr (incr (B1 Z))) <span class="bp">=</span> <span class="mi">2</span> <span class="bp">+</span> bin_to_Nat (B1 Z) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk110"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">/-</span><span class="cm">FILL IN HERE -/</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="basics-lean-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="basics-lean-chk111"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div></dd>
</dl>
<p>[]</p>
</div>
</div>
</div>
</div></body>
</html>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
